"use strict";(self.webpackChunkreact_single_ui=self.webpackChunkreact_single_ui||[]).push([[302],{83302:function(sa,Te,C){C.r(Te),C.d(Te,{Badge:function(){return ta},Breadcrumb:function(){return Xn},BreadcrumbItem:function(){return Jn},Button:function(){return tn},Icon:function(){return A},Image:function(){return Fe},Input:function(){return An},Loading:function(){return _e},Mask:function(){return ze},Modal:function(){return kn},Progress:function(){return Le},Switch:function(){return Ln},Toast:function(){return In},TreeSelect:function(){return ea},Uploader:function(){return ia}});var k=C(75271),Me=C(82187),L=C.n(Me),Ae=C(26068),I=C.n(Ae),Oe=C(67825),_=C.n(Oe),Ue=C(6024),We=C(31759),He=C.n(We),N="sn";function pe(i){return Array.isArray(i)?i:[i]}var Ze=/\.(jpeg|jpg|gif|png|svg|webp|jfif|bmp|dpg)/i;function Ge(i){return Ze.test(i)}function Ve(i){return i.isImage?!0:i.file&&i.file.type?i.file.type.indexOf("image")===0:i.url?Ge(i.url):typeof i.content=="string"?i.content.indexOf("data:image")===0:!1}function je(i){return typeof i=="function"}function Xe(i){return i!==null&&He()(i)==="object"}function Je(i){return Xe(i)&&je(i.then)&&je(i.catch)}function Pe(i,e){return pe(i).some(function(n){return n.file?je(e)?e(n.file):n.file.size>Number(e):!1})}function Ke(i,e){var n=[],a=[];return i.forEach(function(r){Pe(r,e)&&a.push(r),n.push(r)}),{valid:n,invalid:a}}var t=C(52676),Qe=["className","icon"],Ye=function(e){var n=e.className,a=e.icon,r=_()(e,Qe),l=a,c=L()("".concat(N,"-icon"),n);return(0,t.jsx)(Ue.G,I()({icon:l,className:c},r))},A=Ye,ee=C(24168),U=C(36617);ee.library.add(U.faSpinner,U.faCircleNotch,U.faRotate);var qe=function(e){var n=e.children,a=e.type,r=a===void 0?"spinner":a,l=e.textSize,c=l===void 0?"12":l,d=e.className,o=e.textColor,v=o===void 0?"#000":o,f=e.color,s=f===void 0?"#000":f,h=e.size,g=h===void 0?"lg":h,y=L()("".concat(N,"-loading"),d),x=r||"spinner";return(0,t.jsxs)("div",{className:"".concat(y," inline-flex flex-col items-center"),children:[(0,t.jsx)(A,{icon:x,color:s,size:g,spin:!0}),(0,t.jsx)("span",{className:"inline-block mt-1",style:{fontSize:c+"px",color:v},children:n})]})},_e=qe,en=C(82092),j=C.n(en),nn=C(77762),an=["btnType","block","disabled","size","children","className","href","activeClassName","type"],da=function(i){return i.Large="lg",i.Small="sm",i}({}),fe=function(i){return i.Primary="primary",i.Default="default",i.Danger="danger",i.Link="link",i}({}),$e=function(e){var n=e.btnType,a=n===void 0?fe.Default:n,r=e.block,l=r===void 0?!1:r,c=e.disabled,d=c===void 0?!1:c,o=e.size,v=e.children,f=e.className,s=e.href,h=e.activeClassName,g=e.type,y=g===void 0?"button":g,x=_()(e,an),u=N+"-btn",b=L()("".concat(u),f,j()(j()(j()(j()({},"".concat(u,"-").concat(a),a),"".concat(u,"-").concat(o),o),"".concat(u,"-block"),l),"disabled",a===fe.Link&&d));return a===fe.Link?(0,t.jsx)("a",I()(I()({className:b,href:s},x),{},{children:v})):(0,t.jsx)(nn.Z,{activeClassName:"".concat(u,"-active ").concat(h),children:(0,t.jsx)("button",I()(I()({className:b,type:y},x),{},{disabled:d,children:v}))})},tn=$e,rn=$e,on=C(25298),ln=C.n(on),cn=C(17069),sn=C.n(cn),dn=C(62657),ne=C.n(dn),un=C(21742),vn=C.n(un),fn=C(83136),hn=C.n(fn),ke=C(30967),mn=!!ke.createPortal,gn=document.createElement("div");document.body.appendChild(gn);var Cn=function(i){vn()(n,i);var e=hn()(n);function n(){var a;ln()(this,n);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return a=e.call.apply(e,[this].concat(l)),j()(ne()(a),"container",null),j()(ne()(a),"maskDom",function(){var d=a.props,o=d.backgroundColor,v=o===void 0?"#00000066":o,f=d.zIndex,s=f===void 0?999:f,h={backgroundColor:v,zIndex:s};return(0,t.jsx)("div",{className:"".concat(N,"-mask"),onClick:a.handleClickMask,style:h,children:a.props.children})}),j()(ne()(a),"handleClickMask",function(){a.removeContainer(),a.props.onMaskClick&&a.props.onMaskClick()}),j()(ne()(a),"getContainer",function(){if(!a.container){var d=document.createElement("div");d.style.height="100%";var o="".concat(N,"-container-").concat(new Date().getTime());d.setAttribute("id",o),document.body.appendChild(d),a.container=d}return a.container}),j()(ne()(a),"removeContainer",function(){a.container&&(document.body.removeChild(a.container),a.container=null)}),j()(ne()(a),"preventDefault",function(d){d.preventDefault()}),a}return sn()(n,[{key:"render",value:function(){var r=this.props.visible;return mn&&r?(document.body.addEventListener("touchmove",this.preventDefault,{passive:!1}),document.body.addEventListener("scroll",this.preventDefault,{passive:!1}),ke.createPortal(this.maskDom(),this.getContainer())):(document.body.removeEventListener("touchmove",this.preventDefault,!1),document.body.removeEventListener("scroll",this.preventDefault,!1),null)}}]),n}(k.Component),ze=Cn,xn=C(48305),G=C.n(xn),bn=C(78760);ee.library.add(U.faImage,U.faSadTear);var yn=function(e){var n=(0,k.useState)(!0),a=G()(n,2),r=a[0],l=a[1],c=(0,k.useState)(!1),d=G()(c,2),o=d[0],v=d[1],f=e.alt,s=e.width,h=s===void 0?"90px":s,g=e.height,y=g===void 0?"90px":g,x=e.src,u=e.fit,b=u===void 0?"fill":u,M=e.radius,w=e.round,p=w===void 0?!1:w,T=e.onLoad,D=e.onError,z=e.showLoading,F=z===void 0?!1:z,Y=e.showError,E=e.lazyLoad;(0,k.useEffect)(function(){x||v(!0)},[]);var W=L()("".concat(N,"-image-wrap"),j()({},"".concat(N,"-image-wrap-round"),p)),V={width:h,height:y,borderRadius:p?"50%":M},X=function(){if(r&&F)return(0,t.jsx)("div",{className:"".concat(N,"-image-loading"),children:(0,t.jsx)(A,{icon:"image",color:"#969799",size:"3x"})});if(o&&Y)return(0,t.jsx)("div",{className:"".concat(N,"-image-error"),children:(0,t.jsx)(A,{icon:"sad-tear",color:"#969799",size:"3x"})})},R=function(){if(!(!x||o)){var B=function(ve){l(!1),T&&T(ve)},q=function(ve){v(!0),D&&D(ve)},ue={alt:f,src:x,style:{objectFit:b}};return E?(0,t.jsx)(bn.ZP,{scroll:!0,offset:-20,children:(0,t.jsx)("img",I()({className:"".concat(N,"-image-img"),onError:q,onLoad:B},ue))}):(0,t.jsx)("img",I()({className:"".concat(N,"-image-img"),onError:q,onLoad:B},ue))}};return(0,t.jsxs)("div",{style:V,className:W,children:[X(),R()]})},Fe=yn,pn=C(79236),Q=null,he,jn=document.createElement("div");document.body.appendChild(jn);var ae=N+"-toast";function Sn(i,e){var n=L()(j()(j()({},"".concat(ae,"-mask"),i),"".concat(ae,"-nomask"),!i));pn.Z.newInstance({prefixCls:"".concat(ae),style:{},transitionName:"".concat(ae,"-fade"),className:n},function(a){return e&&e(a)})}var re=function(e){var n=e.content,a=e.mask,r=a===void 0?!0:a,l=e.duration,c=e.onClose,d=e.type,o=d===void 0?"info":d,v={info:"",success:"check-circle",fail:"times-circle",loading:"spinner"},f=v[o];he=!1,Sn(r,function(s){if(s){if(Q&&(Q.destroy(),Q=null),he){s.destroy(),he=!1;return}Q=s,s.notice({content:(0,t.jsxs)("div",{className:"".concat(ae,"-content"),role:"alert","aria-live":"assertive",children:[!!f&&(0,t.jsx)("div",{className:"".concat(ae,"-icon-wrap"),children:(0,t.jsx)(A,{icon:f,size:"2x",spin:o==="loading"})}),(0,t.jsx)("div",{children:n})]}),duration:l,onClose:function(){c&&c(),s.destroy(),s=null,Q=null}})}})},Nn={show:function(e,n,a,r,l){var c={content:e,type:n,mask:a,duration:r,onClose:l};return re(c)},info:function(e,n,a,r){var l={content:e,type:"info",mask:n,duration:a,onClose:r};return re(l)},success:function(e,n,a,r){var l={content:e,type:"success",mask:n,duration:a,onClose:r};return re(l)},fail:function(e,n,a,r){var l={content:e,type:"fail",mask:n,duration:a,onClose:r};return re(l)},loading:function(e,n,a,r){var l={content:e,type:"loading",mask:n,duration:a,onClose:r};return re(l)},hidden:function(){Q?(Q.destroy(),Q=null):he=!0}},In=Nn,Tn=C(38751),Pn=["visible"],me=N+"-modal",Se=function(e){var n=e.visible,a=n===void 0?!1:n,r=_()(e,Pn),l=function(o,v){var f={};if(o.style&&(f=o.style,typeof f=="string")){var s={cancel:{},default:{},destructive:{color:"red"}};f=s[f]||{}}var h=function(x){x.preventDefault(),o.onPress&&o.onPress()},g=I()({flex:1,padding:0,fontSize:"18px",height:"50px",lineHeight:"50px",textOverflow:"ellipsis",whiteSpace:"nowrap"},f);return(0,t.jsx)(rn,{style:I()({},g),onClick:h,btnType:fe.Link,children:o.text||"Button"},v)},c=function(o){var v=o.title,f=o.message,s=o.footer;return(0,t.jsxs)("div",{className:"".concat(me),children:[(0,t.jsx)("div",{className:"".concat(me,"-header"),children:v}),(0,t.jsx)("div",{className:"".concat(me,"-body"),children:f}),(0,t.jsx)("div",{className:"".concat(me,"-footer"),children:s==null?void 0:s.map(function(h,g){return l(h,g)})})]})};return(0,t.jsx)(ze,I()(I()({visible:a},r),{},{children:(0,t.jsx)(c,I()({},r))}))};Se.alert=function(i){var e=i.title,n=i.message,a=i.footer,r=document.createElement("div");document.body.appendChild(r);var l=(0,Tn.createRoot)(r),c=function(){l.unmount(),r&&r.parentNode&&r.parentNode.removeChild(r)};return l.render((0,t.jsx)(Se,{visible:!0,title:e,message:n,footer:a})),{close:c}};var $n=Se,kn=$n,zn=["value","disabled","size","activeColor","inactiveColor"],ie=N+"-switch",Fn=function(e){var n=e.value,a=n===void 0?!1:n,r=e.disabled,l=r===void 0?!1:r,c=e.size,d=e.activeColor,o=e.inactiveColor,v=_()(e,zn),f=(0,k.useState)(a),s=G()(f,2),h=s[0],g=s[1],y=function(){l||(g(!h),e.onClick&&e.onClick(!a))},x=L()("".concat(ie),j()(j()(j()({},"".concat(ie,"-disabled"),l),"".concat(ie,"-active"),h),"".concat(ie,"-").concat(c),c)),u={};return(d||o)&&(u={backgroundColor:h?d:o}),(0,t.jsx)("div",I()(I()({className:x,style:u},v),{},{onClick:y,children:(0,t.jsx)("div",{className:"".concat(ie,"-round")})}))},Ln=Fn,Dn=["onBlur","onFocus","onChange"],wn=function(e){var n=e.onBlur,a=e.onFocus,r=e.onChange,l=_()(e,Dn),c=(0,k.useRef)(null),d=function(s){var h=s.target.value;n&&n(h)},o=function(s){var h=s.target.value;a&&a(h)},v=function(s){var h=s.target.value.trim();r&&r(h)};return(0,t.jsx)("input",I()({ref:c,onChange:v,onBlur:d,onFocus:o},l))},Bn=wn,En=["type","maxLength","label","required","disabled","readonly","clearble","onChange","onFocus","onBlur","onClear","value"];ee.library.add(U.faTimesCircle);var Rn=function(e){var n="";switch(e){case"tel":n="tel";break;case"password":n="password";break;case"number":n="number";break;default:n=e}return n},ge=N+"-input",Mn=function(e){var n=e.type,a=n===void 0?"text":n,r=e.maxLength,l=e.label,c=e.required,d=c===void 0?!1:c,o=e.disabled,v=o===void 0?!1:o,f=e.readonly,s=f===void 0?!1:f,h=e.clearble,g=h===void 0?!1:h,y=e.onChange,x=e.onFocus,u=e.onBlur,b=e.onClear,M=e.value,w=_()(e,En),p=L()("".concat(ge),j()(j()(j()({},"".concat(ge,"-disabled"),v),"".concat(ge,"-required"),d),"".concat(ge,"-readonly"),s)),T=(0,k.useState)(M||""),D=G()(T,2),z=D[0],F=D[1];(0,k.useEffect)(function(){F(M||"")},[e.value]);var Y=function(B){if(a==="tel"){var q;B=((q=B)===null||q===void 0?void 0:q.replace(/\D/g,""))||""}F(B||""),y&&y(B)},E=function(B){x&&x(B)},W=function(B){u&&u(B)},V=function(){F(""),b&&b()},X=function(){var B=(z==null?void 0:z.length)||0;return r?(0,t.jsxs)("div",{className:"".concat(N,"-input-max-length"),children:[B,"/",r]}):null},R=Rn(a);return(0,t.jsxs)("div",{className:p,children:[(0,t.jsx)("div",{className:"".concat(N,"-input-label"),children:l}),(0,t.jsx)(Bn,I()({className:"".concat(N,"-input-self"),onChange:Y,onFocus:E,onBlur:W,readOnly:s,disabled:v,type:R,value:z,maxLength:r},w)),!v&&!s&&g&&z&&(0,t.jsx)("div",{className:"".concat(N,"-input-clear"),onClick:V,children:(0,t.jsx)(A,{icon:"times-circle"})}),X()]})},An=Mn,On=C(15558),oe=C.n(On),Un=C(76246),le=N+"-progress",Wn=function(e){var n=e.percent,a=e.fixed,r=e.unfilled,l=e.color,c=e.trackColor,d=e.showPivot,o=e.pivoteText,v=e.textColor,f=e.pivotColor,s=e.inactive,h=e.children,g=e.wrapStyle,y=e.percentStyle,x,u,b,M=L()(le,"".concat(le,"-wrap"),j()({},"".concat(le,"-wrap-fixed"),a)),w=r?{background:"transparent"}:{background:c};g=I()(I()({},w),g);var p=L()("".concat(le,"-bar"));y=I()({width:"".concat(n,"%"),background:s?"rgb(202, 202, 202)":l},y);var T=function(){x&&console.log("barRef.style.width:",x.style.width);var R=o||"".concat(n,"%");if(!d)return"";var H={color:v,background:s?"rgb(202, 202, 202)":f,left:"".concat(W,"px")};return(0,t.jsxs)("span",{ref:F,style:H,className:"".concat(le,"-bar-pivot"),children:[R,h]})},D=function(R){u=R},z=function(R){x=R},F=function(R){b=R},Y=(0,k.useState)(0),E=G()(Y,2),W=E[0],V=E[1];return(0,k.useEffect)(function(){setTimeout(function(){x&&u&&b&&V((u.offsetWidth-b.offsetWidth)*+n/100||x.offsetWidth)},10)},[]),(0,t.jsx)("div",{ref:D,className:M,style:g,role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,children:(0,t.jsx)("div",{className:p,style:y,ref:z,children:T()})})},Le=Wn;ee.library.add(U.faTimes,U.faExclamationCircle);var ce="".concat(N,"-uploader-item"),Hn=function(e){var n=e.item,a=e.imageFit,r=e.previewSize,l=e.deletable,c=e.index,d=e.beforeDelete,o=e.name,v=e.onDelete,f=function(){if(d){var u=d.apply(null,[n,{name:o,index:c}]);Je(u)?u.then(function(b){b&&v&&v()}):u&&v&&v()}else v&&v()},s=function(){if(Ve(n))return(0,t.jsx)(Fe,{fit:a,width:r||"90px",height:r||"90px",src:n.content||n.url||""})},h=function(){if(l)return(0,t.jsx)("div",{className:"".concat(ce,"-delete"),onClick:f,children:(0,t.jsx)("div",{className:"".concat(ce,"-delete-icon"),children:(0,t.jsx)(A,{size:"2x",icon:"times"})})})},g=function(){var u=n.status,b=n.message;if(!(!u||u==="done"))return(0,t.jsxs)("div",{className:"".concat(ce,"-mask"),children:[u==="loading"&&(0,t.jsx)(A,{size:"lg",icon:"spinner",spin:!0}),u==="failed"&&(0,t.jsx)(A,{size:"lg",icon:"exclamation-circle"}),(0,t.jsx)("span",{children:b})]})},y=function(){var u=n.percent,b=n.status;if(b==="uploading")return(0,t.jsx)("div",{className:"".concat(ce,"-progress-wrap"),children:(0,t.jsx)(Le,{percent:u||0,wrapStyle:{height:"8px"}})})};return(0,t.jsxs)("div",{className:ce,children:[s(),h(),g(),y()]})},Zn=Hn,De=(0,k.createContext)({length:0}),Gn=N+"-breadcrmb",Vn=function(e){var n=e.separator,a=e.children,r=e.inactiveColor,l=e.activeColor,c=e.onSelect,d=function(h){c&&c(h)},o={length:(a==null?void 0:a.length)||0,separator:"/",inactiveColor:r,activeColor:l,onSelect:d},v=L()(Gn),f=function(){return k.Children.map(a,function(h,g){var y=h;if(y.type.displayName==="TabBarItem")return k.cloneElement(y,{index:g});console.error("Warning: Breadcrumb has a child which is not BreadcrumbItem")})};return(0,t.jsx)("ul",{className:v,children:(0,t.jsx)(De.Provider,{value:o,children:f()})})},Xn=Vn,Ce=N+"-breadcrmb-item",we=function(e){var n=e.index,a=e.disabled,r=e.children,l=L()(Ce,j()({},"".concat(Ce,"-disabled"),a)),c=(0,k.useContext)(De),d=function(){a||c.onSelect&&c.onSelect(n)},o={color:c.length-1===n?c.activeColor:c.inactiveColor};return(0,t.jsxs)("li",{className:l,onClick:d,style:o,children:[(0,t.jsx)("span",{className:"".concat(Ce,"-link"),children:r}),(0,t.jsx)("span",{className:"".concat(Ce,"-separator"),children:c.length-1!==n&&c.separator})]})};we.displayName="TabBarItem";var Jn=we,se=N+"-tree-select",Kn=function(){var e=(0,k.useContext)(Ne),n=e.data,a=e.index,r=a===void 0?0:a,l=e.onChangeTree,c=e.activeColor,d=(0,k.useState)(r),o=G()(d,2),v=o[0],f=o[1],s=function(u,b){u.disabled||(f(b),l&&l(u,b))},h=function(u,b){return L()("".concat(se,"-sidebar-item"),j()(j()({},"".concat(se,"-sidebar-item-active"),v===b),"".concat(se,"-sidebar-item-disabled"),u.disabled))},g=function(u){return{backgroundColor:c&&u===v?c:""}},y=function(){return!n||!n.length?(console.warn("The data is not a Array or the length of the data is 0"),""):n.map(function(u,b){return(0,t.jsxs)("li",{onClick:s.bind(void 0,u,b),className:h(u,b),children:[(0,t.jsx)("span",{style:g(b),className:"".concat(se,"-sidebar-item-line")}),u.label]},b)})};return(0,t.jsx)("ul",{className:"".concat(se,"-sidebar"),children:y()})},Qn=Kn,Be=C(32699),Ee=C.n(Be);ee.library.add(U.faCheck);var xe=N+"-tree-select-content",Re=function(){var e=(0,k.useContext)(Ne),n=e.data,a=e.index,r=a===void 0?0:a,l=e.activeId,c=e.multiple,d=e.onChangeTreeItem,o=e.activeColor,v=e.inactiveColor,f=[];n&&n[r]&&n[r].children&&(f=n[r].children);var s=(0,k.useState)(l),h=G()(s,2),g=h[0],y=h[1],x=function(p){if(!p.disabled){var T=p.value;if(g!=null&&g.includes(T)){var D=g.indexOf(T),z=Ee().cloneDeep(g);z.splice(D,1),y(z),d&&d(p,z)}else if(c){var F=Ee().cloneDeep(g);F==null||F.push(T),y(F),d&&d(p,F)}else y([T]),d&&d(p,T)}},u=function(p){var T=L()("".concat(xe,"-item"),j()(j()({},"".concat(xe,"-item-active"),g.includes(p.value)),"".concat(xe,"-item-disabled"),p.disabled));return T},b=function(p){return o||v?{color:g.includes(p)?o:v||""}:{}},M=function(){return f.map(function(p,T){var D=function(F){return g.includes(F.value)?(0,t.jsx)(A,{icon:"check"}):""};return(0,t.jsxs)("li",{className:u(p),style:b(p.value),onClick:x.bind(void 0,p),children:[(0,t.jsx)("span",{children:p.label}),(0,t.jsx)("span",{children:D(p)})]},T)})};return(0,t.jsx)("ul",{className:xe,children:M()})};Re.displayName="TreeSelectItem";var Yn=Re,Ne=(0,k.createContext)({multiple:!1,data:[]}),qn=N+"-tree-select",_n=function(e){var n=e.data,a=n===void 0?[]:n,r=e.onChangeTree,l=e.onChangeTreeItem,c=e.inactiveColor,d=e.activeColor,o=e.index,v=o===void 0?0:o,f=e.activeId,s=f===void 0?[]:f,h=e.multiple,g=e.height,y=g===void 0?"300px":g,x=(0,k.useState)(v||0),u=G()(x,2),b=u[0],M=u[1],w=function(z,F){l&&l(z,F)},p=function(z,F){M(F),r&&r(z,F)},T={inactiveColor:c,activeColor:d,data:a,multiple:h,onChangeTreeItem:w,onChangeTree:p,index:b,activeId:Array.isArray(s)?s:[s]};return(0,t.jsx)("div",{className:qn,style:{height:y},children:(0,t.jsxs)(Ne.Provider,{value:T,children:[(0,t.jsx)(Qn,{}),(0,t.jsx)(Yn,{})]})})},ea=_n,na=["children","color","dot","max","content","size","fixed","style"],de=N+"-badge",aa=function(e){var n=e.children,a=e.color,r=e.dot,l=r===void 0?!1:r,c=e.max,d=c===void 0?99:c,o=e.content,v=e.size,f=e.fixed,s=e.style,h=_()(e,na),g=I()({backgroundColor:a},s);o&&(o=Number(o)?Number(o):o);var y=function(){return l?"":typeof o=="number"&&o>d?"".concat(d,"+"):o},x=L()("".concat(de,"-wrap")),u=L()(de,j()(j()(j()({},"".concat(de,"-dot-large"),l&&v==="lg"),"".concat(de,"-fixed"),typeof o=="number"||f||l),"".concat(de,"-dot"),l));return(0,t.jsxs)("div",{className:x,children:[n,(o||l)&&(0,t.jsx)("sup",I()(I()({className:u,style:I()({},g)},h),{},{children:y()}))]})},ta=aa;ee.library.add(U.faCamera);var be="".concat(N,"-uploader"),ra=function(e){var n=(0,k.useRef)(null),a=e.multiple,r=a===void 0?!0:a,l=e.disabled,c=l===void 0?!1:l,d=e.customHeaer,o=e.previewSize,v=e.imageFit,f=v===void 0?"fill":v,s=e.maxCount,h=e.deletable,g=h===void 0?!0:h,y=e.name,x=e.customFileName,u=e.maxSize,b=e.accept,M=b===void 0?"image/*":b,w=e.action,p=e.onOversize,T=e.onChange,D=e.beforeUpload,z=e.onRemove,F=(0,k.useState)(e.fileList||[]),Y=G()(F,2),E=Y[0],W=Y[1],V=function(m,P){W(function(S){return S.map(function($){return $.uid===m.uid?I()(I()({},$),P):$})})},X=function(m){m.forEach(function(P){R(P,m)})},R=function(m,P){var S,$={uid:Date.now()+"upload-file",file:m.file,status:"",message:"",content:m.content};if(W(function(J){return[].concat(oe()(J),[$])}),!!m.file){var Z=new FormData;Z.append(x||((S=m.file)===null||S===void 0?void 0:S.name),m.file),Un.Z.post(w,Z,{headers:I()({"Content-Type":"multipart/form-data"},d),onUploadProgress:function(te){var K,Ie=Math.round(te.loaded*100/((K=te.total)!==null&&K!==void 0?K:0))||0;V($,{percent:Ie,status:"uploading"})}}).then(function(J){T&&T(m.file,P,J),V($,{status:"done"})}).catch(function(J){T&&T(m.file,P,J),V($,{status:"failed",message:"\u4E0A\u4F20\u5931\u8D25"})})}},H=function(m,P){return(0,t.jsx)(Zn,{item:m,imageFit:f,index:P,previewSize:o,beforeDelete:m.beforeDelete,deletable:g,name:y,onDelete:function(){B(m,P)}},P)},B=function(m,P){var S=E.slice(0),$=S.splice(P,1);W(S),z&&z($[0])},q=function(){return E.map(H)},ue=function(m){return new Promise(function(P){var S=new FileReader;S.onload=function($){P($.target.result)},S.readAsDataURL(m)})},ye=function(m){if(ve(),u&&Pe(m,u))if((0,Be.isArray)(m)){var P=Ke(m,u),S=P.valid,$=P.invalid;m=S,p&&p($)}else{p&&p(pe(m));return}if(m=pe(m),w){if(!m.length)return;X(m)}else W([].concat(oe()(E),oe()(m))),T&&T("",[].concat(oe()(E),oe()(m)),"\u6587\u4EF6\u9009\u62E9")},ve=function(){n!=null&&n.current&&(n.current.value="")},oa=function(m){if(Array.isArray(m)){if(s){var P=+s-E.length;m.length>P&&(m=m.slice(0,P))}Promise.all(m.map(function(S){return ue(S)})).then(function(S){var $=m.map(function(Z,J){var te={uid:Date.now()+"upload-file",file:Z,status:"",message:""};if(S[J]&&(te.content=S[J]),D){var K=D(Z);if(!K)return!1;if(K&&K instanceof Promise)K.then(function(Ie){return Ie}).catch(function(){});else if(K)return te}return te});$=$.filter(function(Z){return Z}),$.length&&ye($)})}else ue(m).then(function(S){if(s){var $=+s-E.length;if($<=0)return}var Z={uid:Date.now()+"upload-file",file:m,status:"",message:""};S&&(Z.content=S),ye(Z)})},la=function(m){var P=m.target,S=P.files;if(!(c||!S||!S.length)){var $=S.length===1?[S[0]]:[].slice.call(S);oa($)}},ca=function(){var m=function(){return(0,t.jsx)("input",{ref:n,type:"file",accept:M,className:"".concat(be,"-input"),capture:!0,multiple:r,disabled:c,onChange:la})},P=L()("".concat(be,"-button"),j()({},"".concat(be,"-button-disabled"),c));return(0,t.jsxs)("div",{className:P,children:[(0,t.jsx)(A,{icon:"camera"}),m()]})};return(0,t.jsxs)("div",{className:be,children:[q(),ca()]})},ia=ra}}]);
