"use strict";(self.webpackChunkreact_single_ui=self.webpackChunkreact_single_ui||[]).push([[148],{15148:function(Ja,Ne,p){p.r(Ne),p.d(Ne,{Badge:function(){return Ra},Breadcrumb:function(){return Ta},BreadcrumbItem:function(){return ka},Button:function(){return aa},Icon:function(){return U},Image:function(){return $e},Input:function(){return Sa},Loading:function(){return Pe},Mask:function(){return ke},Modal:function(){return va},Progress:function(){return Ee},Switch:function(){return ma},Toast:function(){return sa},TreeSelect:function(){return Ba},Uploader:function(){return Ga}});var P=p(75271),Re=p(82187),B=p.n(Re),Ae=p(26068),C=p.n(Ae),Me=p(67825),Z=p.n(Me),Oe=p(6024),Ue=p(31759),We=p.n(Ue),N="sn";function ye(t){return Array.isArray(t)?t:[t]}var Ge=/\.(jpeg|jpg|gif|png|svg|webp|jfif|bmp|dpg)/i;function He(t){return Ge.test(t)}function Xe(t){return t.isImage?!0:t.file&&t.file.type?t.file.type.indexOf("image")===0:t.url?He(t.url):typeof t.content=="string"?t.content.indexOf("data:image")===0:!1}function je(t){return typeof t=="function"}function Ze(t){return t!==null&&We()(t)==="object"}function Ve(t){return Ze(t)&&je(t.then)&&je(t.catch)}function Ie(t,e){return ye(t).some(function(a){return a.file?je(e)?e(a.file):a.file.size>Number(e):!1})}function Je(t,e){var a=[],i=[];return t.forEach(function(r){Ie(r,e)&&i.push(r),a.push(r)}),{valid:a,invalid:i}}var n=p(52676),Ke=["className","icon"],Qe=function(e){var a=e.className,i=e.icon,r=Z()(e,Ke),s=i,o=B()("".concat(N,"-icon"),a);return(0,n.jsx)(Oe.G,C()({icon:s,className:o},r))},U=Qe,K=p(24168),E=p(36617);K.library.add(E.faSpinner,E.faCircleNotch,E.faRotate);var Ye=function(e){var a=e.children,i=e.type,r=i===void 0?"spinner":i,s=e.textSize,o=s===void 0?"12":s,m=e.className,l=e.textColor,v=l===void 0?"#000":l,g=e.color,d=g===void 0?"#000":g,c=e.size,h=c===void 0?"lg":c,b=B()("".concat(N,"-loading"),m),f=r||"spinner";return(0,n.jsxs)("div",{className:"".concat(b," inline-flex flex-col items-center"),children:[(0,n.jsx)(U,{icon:f,color:d,size:h,spin:!0}),(0,n.jsx)("span",{className:"inline-block mt-1",style:{fontSize:o+"px",color:v},children:a})]})},Pe=Ye,qe=p(82092),w=p.n(qe),_e=p(77762),ea=["btnType","block","disabled","size","children","className","href","activeClassName","type"],Ka=function(t){return t.Large="lg",t.Small="sm",t}({}),ue=function(t){return t.Primary="primary",t.Default="default",t.Danger="danger",t.Link="link",t}({}),Te=function(e){var a=e.btnType,i=a===void 0?ue.Default:a,r=e.block,s=r===void 0?!1:r,o=e.disabled,m=o===void 0?!1:o,l=e.size,v=e.children,g=e.className,d=e.href,c=e.activeClassName,h=e.type,b=h===void 0?"button":h,f=Z()(e,ea),u=N+"-btn",y=B()("".concat(u),g,w()(w()(w()(w()({},"".concat(u,"-").concat(i),i),"".concat(u,"-").concat(l),l),"".concat(u,"-block"),s),"disabled",i===ue.Link&&m));return i===ue.Link?(0,n.jsx)("a",C()(C()({className:y,href:d},f),{},{children:v})):(0,n.jsx)(_e.Z,{activeClassName:"".concat(u,"-active ").concat(c),children:(0,n.jsx)("button",C()(C()({className:y,type:b},f),{},{disabled:m,children:v}))})},aa=Te,na=Te,ta=p(48305),G=p.n(ta),ra=p(30967),ia=function(e){var a=e.visible,i=a===void 0?!1:a,r=e.className,s=e.backgroundColor,o=s===void 0?"#00000066":s,m=e.zIndex,l=m===void 0?999:m,v=e.onMaskClick,g=e.children,d=(0,P.useState)(null),c=G()(d,2),h=c[0],b=c[1];(0,P.useEffect)(function(){if(i){var T=document.createElement("div");T.style.height="100%";var j="".concat(N,"-container-").concat(new Date().getTime());T.setAttribute("id",j),document.body.appendChild(T),b(T);var I=function(F){F.preventDefault(),F.stopPropagation()};return document.body.addEventListener("touchmove",I,{passive:!1}),document.body.addEventListener("scroll",I,{passive:!1}),function(){document.body.removeChild(T),document.body.removeEventListener("touchmove",I),document.body.removeEventListener("scroll",I)}}},[i]);var f=function(){v&&v()},u="".concat(N,"-mask ").concat(r),y=(0,n.jsx)("div",{className:u,onClick:f,style:{backgroundColor:o,zIndex:l},children:g});return i&&h?(0,ra.createPortal)(y,h):null},ke=ia,oa=p(78760);K.library.add(E.faImage,E.faSadTear);var la=function(e){var a=(0,P.useState)(!0),i=G()(a,2),r=i[0],s=i[1],o=(0,P.useState)(!1),m=G()(o,2),l=m[0],v=m[1],g=e.alt,d=e.width,c=d===void 0?"90px":d,h=e.height,b=h===void 0?"90px":h,f=e.src,u=e.fit,y=u===void 0?"fill":u,T=e.radius,j=e.round,I=j===void 0?!1:j,L=e.onLoad,F=e.onError,k=e.showLoading,A=k===void 0?!1:k,M=e.showError,O=e.lazyLoad;(0,P.useEffect)(function(){f||v(!0)},[]);var H=B()("".concat(N,"-image-wrap"),w()({},"".concat(N,"-image-wrap-round"),I)),X={width:c,height:b,borderRadius:I?"50%":T},oe=function(){if(r&&A)return(0,n.jsx)("div",{className:"".concat(N,"-image-loading"),children:(0,n.jsx)(U,{icon:"image",color:"#969799",size:"3x"})});if(l&&M)return(0,n.jsx)("div",{className:"".concat(N,"-image-error"),children:(0,n.jsx)(U,{icon:"sad-tear",color:"#969799",size:"3x"})})},le=function(){if(!(!f||l)){var D=function(se){s(!1),L&&L(se)},J=function(se){v(!0),F&&F(se)},ce={alt:g,src:f,style:{objectFit:y}};return O?(0,n.jsx)(oa.ZP,{scroll:!0,offset:-20,children:(0,n.jsx)("img",C()({className:"".concat(N,"-image-img"),onError:J,onLoad:D},ce))}):(0,n.jsx)("img",C()({className:"".concat(N,"-image-img"),onError:J,onLoad:D},ce))}};return(0,n.jsxs)("div",{style:X,className:H,children:[oe(),le()]})},$e=la,we=p(38751),ca=["content","duration","onAfterClose"];K.library.add(E.faCheck,E.faXmark);var ee=[],ve=N+"-toast",Q=function(e){var a=e.type,i=e.content,r=e.maskClickable,s=r===void 0?!0:r,o=B()(ve,w()({},"".concat(ve,"-").concat(a),a)),m=(0,P.useMemo)(function(){switch(a){case"success":return(0,n.jsx)(U,{icon:E.faCheck,size:"2x"});case"fail":return(0,n.jsx)(U,{icon:E.faXmark,size:"2x"});case"loading":return(0,n.jsx)(Pe,{size:"2x",color:"#fff"});default:return""}},[a]);return(0,n.jsx)("div",{className:o,style:{pointerEvents:s?"none":"auto"},children:(0,n.jsxs)("div",{className:"".concat(ve,"-content"),children:[a!=="info"&&(0,n.jsx)("div",{className:"".concat(ve,"-icon-wrap"),children:m}),(0,n.jsx)("p",{children:i})]})})},fe=function(e,a){var i=a.content,r=a.duration,s=r===void 0?3:r,o=a.onAfterClose,m=Z()(a,ca),l=document.createElement("div");document.body.appendChild(l);var v=(0,we.createRoot)(l),g=function d(){var c=ee.indexOf(d);c!==-1&&ee.splice(c,1),v.unmount(),l&&l.parentNode&&l.parentNode.removeChild(l),o&&o()};return s&&setTimeout(function(){g()},s*1e3),ee.push(g),v.render((0,n.jsx)(Q,C()({content:i},m))),g};Q.closeAll=function(){for(;ee.length>0;){var t=ee.pop();t&&t()}},Q.info=function(t){return fe("info",C()(C()({},t),{},{type:"info"}))},Q.success=function(t){return fe("success",C()(C()({},t),{},{type:"success"}))},Q.fail=function(t){return fe("fail",C()(C()({},t),{},{type:"fail"}))},Q.loading=function(t){return fe("loading",C()(C()({},t),{},{type:"loading"}))};var sa=Q,da=["visible"],he=N+"-modal",Se=function(e){var a=e.visible,i=a===void 0?!1:a,r=Z()(e,da),s=function(l,v){var g={};if(l.style&&(g=l.style,typeof g=="string")){var d={cancel:{},default:{},destructive:{color:"red"}};g=d[g]||{}}var c=function(f){f.stopPropagation(),f.preventDefault(),l.onPress&&l.onPress()},h=C()({flex:1,padding:0,fontSize:"18px",height:"50px",lineHeight:"50px",textOverflow:"ellipsis",whiteSpace:"nowrap"},g);return(0,n.jsx)(na,{style:C()({},h),onClick:c,btnType:ue.Link,children:l.text||"Button"},v)},o=function(l){var v=l.title,g=l.message,d=l.footer;return(0,n.jsxs)("div",{className:"".concat(he),children:[v&&(0,n.jsx)("div",{className:"".concat(he,"-header"),children:v}),(0,n.jsx)("div",{className:"".concat(he,"-body"),children:g}),d&&(0,n.jsx)("div",{className:"".concat(he,"-footer"),children:d==null?void 0:d.map(function(c,h){return s(c,h)})})]})};return(0,n.jsx)(ke,{visible:i,children:(0,n.jsx)(o,C()({},r))})};Se.alert=function(t){var e=t.title,a=t.message,i=t.footer,r=document.createElement("div");document.body.appendChild(r);var s=(0,we.createRoot)(r),o=function(){s.unmount(),r&&r.parentNode&&r.parentNode.removeChild(r)};return s.render((0,n.jsx)(Se,{visible:!0,title:e,message:a,footer:i})),{close:o}};var ua=Se,va=ua,fa=["value","disabled","size","activeColor","inactiveColor"],ae=N+"-switch",ha=function(e){var a=e.value,i=a===void 0?!1:a,r=e.disabled,s=r===void 0?!1:r,o=e.size,m=e.activeColor,l=e.inactiveColor,v=Z()(e,fa),g=(0,P.useState)(i),d=G()(g,2),c=d[0],h=d[1],b=function(){s||(h(!c),e.onClick&&e.onClick(!i))},f=B()("".concat(ae),w()(w()(w()({},"".concat(ae,"-disabled"),s),"".concat(ae,"-active"),c),"".concat(ae,"-").concat(o),o)),u={};return(m||l)&&(u={backgroundColor:c?m:l}),(0,n.jsx)("div",C()(C()({className:f,style:u},v),{},{onClick:b,children:(0,n.jsx)("div",{className:"".concat(ae,"-round")})}))},ma=ha,ga=["onBlur","onFocus","onChange"],xa=function(e){var a=e.onBlur,i=e.onFocus,r=e.onChange,s=Z()(e,ga),o=(0,P.useRef)(null),m=function(d){var c=d.target.value;a&&a(c)},l=function(d){var c=d.target.value;i&&i(c)},v=function(d){var c=d.target.value.trim();r&&r(c)};return(0,n.jsx)("input",C()({ref:o,onChange:v,onBlur:m,onFocus:l},s))},Ca=xa,ba=["type","maxLength","label","required","disabled","readonly","clearble","onChange","onFocus","onBlur","onClear","value"];K.library.add(E.faTimesCircle);var ya=function(e){var a="";switch(e){case"tel":a="tel";break;case"password":a="password";break;case"number":a="number";break;default:a=e}return a},me=N+"-input",ja=function(e){var a=e.type,i=a===void 0?"text":a,r=e.maxLength,s=e.label,o=e.required,m=o===void 0?!1:o,l=e.disabled,v=l===void 0?!1:l,g=e.readonly,d=g===void 0?!1:g,c=e.clearble,h=c===void 0?!1:c,b=e.onChange,f=e.onFocus,u=e.onBlur,y=e.onClear,T=e.value,j=Z()(e,ba),I=B()("".concat(me),w()(w()(w()({},"".concat(me,"-disabled"),v),"".concat(me,"-required"),m),"".concat(me,"-readonly"),d)),L=(0,P.useState)(T||""),F=G()(L,2),k=F[0],A=F[1];(0,P.useEffect)(function(){A(T||"")},[e.value]);var M=function(D){if(i==="tel"){var J;D=((J=D)===null||J===void 0?void 0:J.replace(/\D/g,""))||""}A(D||""),b&&b(D)},O=function(D){f&&f(D)},H=function(D){u&&u(D)},X=function(){A(""),y&&y()},oe=function(){var D=(k==null?void 0:k.length)||0;return r?(0,n.jsxs)("div",{className:"".concat(N,"-input-max-length"),children:[D,"/",r]}):null},le=ya(i);return(0,n.jsxs)("div",{className:I,children:[(0,n.jsx)("div",{className:"".concat(N,"-input-label"),children:s}),(0,n.jsx)(Ca,C()({className:"".concat(N,"-input-self"),onChange:M,onFocus:O,onBlur:H,readOnly:d,disabled:v,type:le,value:k,maxLength:r},j)),!v&&!d&&h&&k&&(0,n.jsx)("div",{className:"".concat(N,"-input-clear"),onClick:X,children:(0,n.jsx)(U,{icon:"times-circle"})}),oe()]})},Sa=ja,pa=p(15558),ne=p.n(pa),Na=p(38126),ze=p(32699),Le=p.n(ze),Fe=(0,P.createContext)({length:0}),Ia=N+"-breadcrmb",Pa=function(e){var a=e.separator,i=a===void 0?"/":a,r=e.children,s=e.inactiveColor,o=e.activeColor,m=e.onSelect,l=function(h){m&&m(h)},v={length:r==null?void 0:r.length,separator:i,inactiveColor:s,activeColor:o,onSelect:l},g=B()(Ia),d=function(){return P.Children.map(r,function(h,b){var f=h;if(f.type.displayName==="BreadcrumbItem")return P.cloneElement(f,{index:b});console.error("Warning: Breadcrumb has a child which is not BreadcrumbItem")})};return(0,n.jsx)("ul",{className:g,children:(0,n.jsx)(Fe.Provider,{value:v,children:d()})})},Ta=Pa,ge=N+"-breadcrmb-item",Be=function(e){var a=e.index,i=e.disabled,r=e.children,s=B()(ge,w()({},"".concat(ge,"-disabled"),i)),o=(0,P.useContext)(Fe),m=function(){i||o.onSelect&&o.onSelect(a)},l={color:o.length-1===a?o.activeColor:o.inactiveColor};return(0,n.jsxs)("li",{className:s,onClick:m,style:l,children:[(0,n.jsx)("span",{className:"".concat(ge,"-link"),children:r}),(0,n.jsx)("span",{className:"".concat(ge,"-separator"),children:o.length-1!==a&&o.separator})]})};Be.displayName="BreadcrumbItem";var ka=Be;K.library.add(E.faCheck);var xe=N+"-tree-select-content",De=function(){var e=(0,P.useContext)(pe),a=e.data,i=e.index,r=e.activeId,s=e.multiple,o=e.onChangeTreeItem,m=e.activeColor,l=e.inactiveColor,v=[];a&&i!==void 0&&a[i]&&a[i].children&&(v=a[i].children);var g=(0,P.useState)(r),d=G()(g,2),c=d[0],h=d[1],b=function(j){if(!j.disabled){var I=j.value;if(c!=null&&c.includes(I)){var L=c.indexOf(I),F=Le().cloneDeep(c);F.splice(L,1),h(F),o&&o(j,F)}else if(s){var k=Le().cloneDeep(c);k==null||k.push(I),h(k),o&&o(j,k)}else h([I]),o&&o(j,I)}},f=function(j){var I=B()("".concat(xe,"-item"),w()(w()({},"".concat(xe,"-item-active"),c.includes(j.value)),"".concat(xe,"-item-disabled"),j.disabled));return I},u=function(j){return m||l?{color:c.includes(j)?m:l||""}:{}},y=function(){return v.map(function(j,I){var L=function(k){return c.includes(k.value)?(0,n.jsx)(U,{icon:"check"}):""};return(0,n.jsxs)("li",{className:f(j),style:u(j.value),onClick:b.bind(void 0,j),children:[(0,n.jsx)("span",{children:j.label}),(0,n.jsx)("span",{children:L(j)})]},I)})};return(0,n.jsx)("ul",{className:xe,children:y()})};De.displayName="TreeSelectItem";var $a=De,te=N+"-tree-select",wa=function(){var e=(0,P.useContext)(pe),a=e.data,i=e.index,r=e.onChangeTree,s=e.activeColor,o=(0,P.useState)(i),m=G()(o,2),l=m[0],v=m[1],g=function(f,u){f.disabled||(v(u),r&&r(f,u))},d=function(f,u){return B()("".concat(te,"-sidebar-item"),w()(w()({},"".concat(te,"-sidebar-item-active"),l===u),"".concat(te,"-sidebar-item-disabled"),f.disabled))},c=function(f){return{backgroundColor:s&&f===l?s:""}},h=function(){return!a||!a.length?(console.warn("The data is not a Array or the length of the data is 0"),""):a.map(function(f,u){return(0,n.jsxs)("li",{onClick:g.bind(void 0,f,u),className:d(f,u),children:[(0,n.jsx)("span",{style:c(u),className:"".concat(te,"-sidebar-item-line")}),f.label]},u)})};return(0,n.jsx)("ul",{className:"".concat(te,"-sidebar"),children:h()})},za=wa,pe=(0,P.createContext)({multiple:!1,index:0}),La=N+"-tree-select",Fa=function(e){var a=e.data,i=a===void 0?[]:a,r=e.onChangeTree,s=e.onChangeTreeItem,o=e.inactiveColor,m=e.activeColor,l=e.index,v=l===void 0?0:l,g=e.activeId,d=g===void 0?[]:g,c=e.multiple,h=e.height,b=h===void 0?"300px":h,f=(0,P.useState)(v),u=G()(f,2),y=u[0],T=y===void 0?v:y,j=u[1],I=function(A,M){s&&s(A,M)},L=function(A,M){j(M),r&&r(A,M)},F={inactiveColor:o,activeColor:m,data:i,multiple:c,onChangeTreeItem:I,onChangeTree:L,index:T,activeId:Array.isArray(d)?d:[d]};return(0,n.jsx)("div",{className:La,style:{height:b},children:(0,n.jsxs)(pe.Provider,{value:F,children:[(0,n.jsx)(za,{}),(0,n.jsx)($a,{})]})})},Ba=Fa,Da=["children","color","dot","max","size","fixed","style","content"],re=N+"-badge",Ea=function(e){var a=e.children,i=e.color,r=e.dot,s=r===void 0?!1:r,o=e.max,m=o===void 0?99:o,l=e.size,v=e.fixed,g=e.style,d=e.content,c=Z()(e,Da),h=d,b=C()({backgroundColor:i},g);h&&(h=Number(h)?Number(h):h);var f=function(){return s?"":typeof h=="number"&&h>m?"".concat(m,"+"):h},u=B()("".concat(re,"-wrap")),y=B()(re,w()(w()(w()({},"".concat(re,"-dot-large"),s&&l==="lg"),"".concat(re,"-fixed"),typeof h=="number"||v||s),"".concat(re,"-dot"),s));return(0,n.jsxs)("div",{className:u,children:[a,(h||s)&&(0,n.jsx)("sup",C()(C()({className:y,style:C()({},b)},c),{},{children:f()}))]})},Ra=Ea,_=N+"-progress",Aa=B()("".concat(_,"-bar")),Ma=function(e){var a=e.percent,i=e.fixed,r=i===void 0?!1:i,s=e.unfilled,o=e.color,m=e.trackColor,l=e.showPivot,v=e.pivoteText,g=e.textColor,d=e.pivotColor,c=e.inactive,h=e.children,b=e.wrapStyle,f=e.percentStyle,u=(0,P.useRef)(null),y=(0,P.useRef)(null),T=(0,P.useRef)(null),j=B()(_,"".concat(_,"-wrap"),w()(w()({},"".concat(_,"-wrap-fixed"),r),"".concat(_,"-inactive"),c)),I=s?{background:"transparent"}:{background:m};b=C()(C()({},I),b),f=C()({width:"".concat(a,"%"),backgroundColor:c?"rgb(202, 202, 202)":o},f);var L=function(){var H=v||"".concat(a,"%");if(!l)return"";var X={color:g,background:c?"rgb(202, 202, 202)":d,left:"".concat(A,"px")};return(0,n.jsxs)("span",{ref:T,style:X,className:"".concat(_,"-bar-pivot"),children:[H,h]})},F=(0,P.useState)(0),k=G()(F,2),A=k[0],M=k[1];return(0,P.useLayoutEffect)(function(){var O=setTimeout(function(){u.current&&y.current&&T.current&&M((y.current.offsetWidth-T.current.offsetWidth)*+a/100||u.current.offsetWidth)},10);return function(){clearTimeout(O)}},[a]),(0,n.jsx)("div",{ref:y,className:j,style:b,role:"progressbar","aria-valuenow":a,"aria-valuemin":0,"aria-valuemax":100,children:(0,n.jsx)("div",{className:Aa,style:f,ref:u,children:L()})})},Ee=Ma;K.library.add(E.faTimes,E.faExclamationCircle);var ie="".concat(N,"-uploader-item"),Oa=function(e){var a=e.item,i=e.imageFit,r=e.previewSize,s=e.deletable,o=e.index,m=e.beforeDelete,l=e.name,v=e.onDelete,g=function(){if(m){var u=m.apply(null,[a,{name:l,index:o}]);Ve(u)?u.then(function(y){y&&v&&v()}):u&&v&&v()}else v&&v()},d=function(){if(Xe(a))return(0,n.jsx)($e,{fit:i,width:r||"90px",height:r||"90px",src:a.content||a.url||""})},c=function(){if(s)return(0,n.jsx)("div",{className:"".concat(ie,"-delete"),onClick:g,children:(0,n.jsx)("div",{className:"".concat(ie,"-delete-icon"),children:(0,n.jsx)(U,{size:"2x",icon:"times"})})})},h=function(){var u=a.status,y=a.message;if(!(!u||u==="done"))return(0,n.jsxs)("div",{className:"".concat(ie,"-mask"),children:[u==="loading"&&(0,n.jsx)(U,{size:"lg",icon:"spinner",spin:!0}),u==="failed"&&(0,n.jsx)(U,{size:"lg",icon:"exclamation-circle"}),(0,n.jsx)("span",{children:y})]})},b=function(){var u=a.percent,y=a.status;if(y==="uploading")return(0,n.jsx)("div",{className:"".concat(ie,"-progress-wrap"),children:(0,n.jsx)(Ee,{percent:u||0,wrapStyle:{height:"8px"}})})};return(0,n.jsxs)("div",{className:ie,children:[d(),c(),h(),b()]})},Ua=Oa;K.library.add(E.faCamera);var Ce="".concat(N,"-uploader"),Wa=function(e){var a=(0,P.useRef)(null),i=e.multiple,r=i===void 0?!0:i,s=e.disabled,o=s===void 0?!1:s,m=e.customHeaer,l=e.previewSize,v=e.imageFit,g=v===void 0?"fill":v,d=e.maxCount,c=e.deletable,h=c===void 0?!0:c,b=e.name,f=e.customFileName,u=e.maxSize,y=e.accept,T=y===void 0?"image/*":y,j=e.action,I=e.onOversize,L=e.onChange,F=e.beforeUpload,k=e.onRemove,A=(0,P.useState)(e.fileList||[]),M=G()(A,2),O=M[0],H=M[1],X=function(x,$){H(function(S){return S.map(function(z){return z.uid===x.uid?C()(C()({},z),$):z})})},oe=function(x){x.forEach(function($){le($,x)})},le=function(x,$){var S={uid:Date.now()+"upload-file",file:x.file,status:"",message:"",content:x.content};if(H(function(R){return[].concat(ne()(R),[S])}),!!x.file){var z=new FormData;z.append(f||x.file.name,x.file),Na.Z.post(j,z,{headers:C()({"Content-Type":"multipart/form-data"},m),onUploadProgress:function(de){var Y,q=Math.round(de.loaded*100/((Y=de.total)!==null&&Y!==void 0?Y:0))||0;X(S,{percent:q,status:"uploading"})}}).then(function(R){L&&L(x.file,$,R),X(S,{status:"done"})}).catch(function(R){L&&L(x.file,$,R),X(S,{status:"failed",message:"\u4E0A\u4F20\u5931\u8D25"})})}},V=function(x,$){return(0,n.jsx)(Ua,{item:x,imageFit:g,index:$,previewSize:l,beforeDelete:x.beforeDelete,deletable:h,name:b,onDelete:function(){D(x,$)}},$)},D=function(x,$){var S=O.slice(0),z=S.splice($,1);H(S),k&&k(z[0])},J=function(){return O.map(V)},ce=function(x){return new Promise(function($){var S=new FileReader;S.onload=function(z){$(z.target.result)},S.readAsDataURL(x)})},be=function(x){if(se(),u&&Ie(x,u))if((0,ze.isArray)(x)){var $=Je(x,u),S=$.valid,z=$.invalid;x=S,I&&I(z)}else{I&&I(ye(x));return}if(x=ye(x),j){if(!x.length)return;oe(x)}else H([].concat(ne()(O),ne()(x))),L&&L("",[].concat(ne()(O),ne()(x)),"\u6587\u4EF6\u9009\u62E9")},se=function(){a!=null&&a.current&&(a.current.value="")},Ha=function(x){if(Array.isArray(x)){if(d){var $=+d-O.length;x.length>$&&(x=x.slice(0,$))}Promise.all(x.map(function(S){return ce(S)})).then(function(S){var z=x.map(function(R,de){var Y={uid:Date.now()+"upload-file",file:R,status:"",message:""};if(S[de]&&(Y.content=S[de]),F){var q=F(R);if(!q)return!1;if(q&&q instanceof Promise)q.then(function(Va){return Va}).catch(function(){});else if(q)return Y}return Y});z=z.filter(function(R){return R}),z.length&&be(z)})}else ce(x).then(function(S){if(d){var z=+d-O.length;if(z<=0)return}var R={uid:Date.now()+"upload-file",file:x,status:"",message:""};S&&(R.content=S),be(R)})},Xa=function(x){var $=x.target,S=$.files;if(!(o||!S||!S.length)){var z=S.length===1?[S[0]]:[].slice.call(S);Ha(z)}},Za=function(){var x=function(){return(0,n.jsx)("input",{ref:a,type:"file",accept:T,className:"".concat(Ce,"-input"),capture:!0,multiple:r,disabled:o,onChange:Xa})},$=B()("".concat(Ce,"-button"),w()({},"".concat(Ce,"-button-disabled"),o));return(0,n.jsxs)("div",{className:$,children:[(0,n.jsx)(U,{icon:"camera"}),x()]})};return(0,n.jsxs)("div",{className:Ce,children:[J(),Za()]})},Ga=Wa}}]);
