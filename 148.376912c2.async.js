"use strict";(self.webpackChunkreact_single_ui=self.webpackChunkreact_single_ui||[]).push([[148],{15148:function(Ya,Ie,j){j.r(Ie),j.d(Ie,{Badge:function(){return Ga},Breadcrumb:function(){return Da},BreadcrumbItem:function(){return Ea},Button:function(){return aa},Icon:function(){return A},Image:function(){return $e},Input:function(){return Pa},Loading:function(){return Ye},Mask:function(){return ke},Modal:function(){return ga},Progress:function(){return we},Switch:function(){return ba},Toast:function(){return va},TreeSelect:function(){return Wa},Uploader:function(){return Xa}});var k=j(75271),Ee=j(82187),D=j.n(Ee),Re=j(26068),I=j.n(Re),Me=j(67825),_=j.n(Me),Ae=j(6024),Oe=j(31759),Ue=j.n(Oe),p="sn";function ye(r){return Array.isArray(r)?r:[r]}var We=/\.(jpeg|jpg|gif|png|svg|webp|jfif|bmp|dpg)/i;function He(r){return We.test(r)}function Ze(r){return r.isImage?!0:r.file&&r.file.type?r.file.type.indexOf("image")===0:r.url?He(r.url):typeof r.content=="string"?r.content.indexOf("data:image")===0:!1}function je(r){return typeof r=="function"}function Ge(r){return r!==null&&Ue()(r)==="object"}function Ve(r){return Ge(r)&&je(r.then)&&je(r.catch)}function Pe(r,e){return ye(r).some(function(a){return a.file?je(e)?e(a.file):a.file.size>Number(e):!1})}function Xe(r,e){var a=[],i=[];return r.forEach(function(t){Pe(t,e)&&i.push(t),a.push(t)}),{valid:a,invalid:i}}var n=j(52676),Je=["className","icon"],Ke=function(e){var a=e.className,i=e.icon,t=_()(e,Je),o=i,c=D()("".concat(p,"-icon"),a);return(0,n.jsx)(Ae.G,I()({icon:o,className:c},t))},A=Ke,ee=j(24168),U=j(36617);ee.library.add(U.faSpinner,U.faCircleNotch,U.faRotate);var Qe=function(e){var a=e.children,i=e.type,t=i===void 0?"spinner":i,o=e.textSize,c=o===void 0?"12":o,f=e.className,u=e.textColor,v=u===void 0?"#000":u,h=e.color,l=h===void 0?"#000":h,m=e.size,s=m===void 0?"lg":m,y=D()("".concat(p,"-loading"),f),x=t||"spinner";return(0,n.jsxs)("div",{className:"".concat(y," inline-flex flex-col items-center"),children:[(0,n.jsx)(A,{icon:x,color:l,size:s,spin:!0}),(0,n.jsx)("span",{className:"inline-block mt-1",style:{fontSize:c+"px",color:v},children:a})]})},Ye=Qe,qe=j(82092),P=j.n(qe),_e=j(77762),ea=["btnType","block","disabled","size","children","className","href","activeClassName","type"],qa=function(r){return r.Large="lg",r.Small="sm",r}({}),ve=function(r){return r.Primary="primary",r.Default="default",r.Danger="danger",r.Link="link",r}({}),Te=function(e){var a=e.btnType,i=a===void 0?ve.Default:a,t=e.block,o=t===void 0?!1:t,c=e.disabled,f=c===void 0?!1:c,u=e.size,v=e.children,h=e.className,l=e.href,m=e.activeClassName,s=e.type,y=s===void 0?"button":s,x=_()(e,ea),d=p+"-btn",C=D()("".concat(d),h,P()(P()(P()(P()({},"".concat(d,"-").concat(i),i),"".concat(d,"-").concat(u),u),"".concat(d,"-block"),o),"disabled",i===ve.Link&&f));return i===ve.Link?(0,n.jsx)("a",I()(I()({className:C,href:l},x),{},{children:v})):(0,n.jsx)(_e.Z,{activeClassName:"".concat(d,"-active ").concat(m),children:(0,n.jsx)("button",I()(I()({className:C,type:y},x),{},{disabled:f,children:v}))})},aa=Te,na=Te,ta=j(48305),W=j.n(ta),ra=j(30967),ia=function(e){var a=e.visible,i=a===void 0?!1:a,t=e.className,o=e.backgroundColor,c=o===void 0?"#00000066":o,f=e.zIndex,u=f===void 0?999:f,v=e.onMaskClick,h=e.children,l=(0,k.useState)(null),m=W()(l,2),s=m[0],y=m[1];(0,k.useEffect)(function(){if(i){var w=document.createElement("div");w.style.height="100%";var B="".concat(p,"-container-").concat(new Date().getTime());w.setAttribute("id",B),document.body.appendChild(w),y(w);var b=function(z){return z.preventDefault()};return document.body.addEventListener("touchmove",b,{passive:!1}),document.body.addEventListener("scroll",b,{passive:!1}),function(){document.body.removeChild(w),document.body.removeEventListener("touchmove",b),document.body.removeEventListener("scroll",b)}}},[i]);var x=function(){v&&v()},d="".concat(p,"-mask ").concat(t),C=(0,n.jsx)("div",{className:d,onClick:x,style:{backgroundColor:c,zIndex:u},children:h});return i&&s?(0,ra.createPortal)(C,s):null},ke=ia,oa=j(78760);ee.library.add(U.faImage,U.faSadTear);var la=function(e){var a=(0,k.useState)(!0),i=W()(a,2),t=i[0],o=i[1],c=(0,k.useState)(!1),f=W()(c,2),u=f[0],v=f[1],h=e.alt,l=e.width,m=l===void 0?"90px":l,s=e.height,y=s===void 0?"90px":s,x=e.src,d=e.fit,C=d===void 0?"fill":d,w=e.radius,B=e.round,b=B===void 0?!1:B,N=e.onLoad,z=e.onError,F=e.showLoading,L=F===void 0?!1:F,Y=e.showError,R=e.lazyLoad;(0,k.useEffect)(function(){x||v(!0)},[]);var H=D()("".concat(p,"-image-wrap"),P()({},"".concat(p,"-image-wrap-round"),b)),V={width:m,height:y,borderRadius:b?"50%":w},X=function(){if(t&&L)return(0,n.jsx)("div",{className:"".concat(p,"-image-loading"),children:(0,n.jsx)(A,{icon:"image",color:"#969799",size:"3x"})});if(u&&Y)return(0,n.jsx)("div",{className:"".concat(p,"-image-error"),children:(0,n.jsx)(A,{icon:"sad-tear",color:"#969799",size:"3x"})})},M=function(){if(!(!x||u)){var E=function(ue){o(!1),N&&N(ue)},q=function(ue){v(!0),z&&z(ue)},de={alt:h,src:x,style:{objectFit:C}};return R?(0,n.jsx)(oa.ZP,{scroll:!0,offset:-20,children:(0,n.jsx)("img",I()({className:"".concat(p,"-image-img"),onError:q,onLoad:E},de))}):(0,n.jsx)("img",I()({className:"".concat(p,"-image-img"),onError:q,onLoad:E},de))}};return(0,n.jsxs)("div",{style:V,className:H,children:[X(),M()]})},$e=la,ca=j(79236),Q=null,fe,sa=document.createElement("div");document.body.appendChild(sa);var ae=p+"-toast";function da(r,e){var a=D()(P()(P()({},"".concat(ae,"-mask"),r),"".concat(ae,"-nomask"),!r));ca.Z.newInstance({prefixCls:"".concat(ae),style:{},transitionName:"".concat(ae,"-fade"),className:a},function(i){return e&&e(i)})}var re=function(e){var a=e.content,i=e.mask,t=i===void 0?!0:i,o=e.duration,c=e.onClose,f=e.type,u=f===void 0?"info":f,v={info:"",success:"check-circle",fail:"times-circle",loading:"spinner"},h=v[u];fe=!1,da(t,function(l){if(l){if(Q&&(Q.destroy(),Q=null),fe){l.destroy(),fe=!1;return}Q=l,l.notice({content:(0,n.jsxs)("div",{className:"".concat(ae,"-content"),role:"alert","aria-live":"assertive",children:[!!h&&(0,n.jsx)("div",{className:"".concat(ae,"-icon-wrap"),children:(0,n.jsx)(A,{icon:h,size:"2x",spin:u==="loading"})}),(0,n.jsx)("div",{children:a})]}),duration:o,onClose:function(){c&&c(),l.destroy(),l=null,Q=null}})}})},ua={show:function(e,a,i,t,o){var c={content:e,type:a,mask:i,duration:t,onClose:o};return re(c)},info:function(e,a,i,t){var o={content:e,type:"info",mask:a,duration:i,onClose:t};return re(o)},success:function(e,a,i,t){var o={content:e,type:"success",mask:a,duration:i,onClose:t};return re(o)},fail:function(e,a,i,t){var o={content:e,type:"fail",mask:a,duration:i,onClose:t};return re(o)},loading:function(e,a,i,t){var o={content:e,type:"loading",mask:a,duration:i,onClose:t};return re(o)},hidden:function(){Q?(Q.destroy(),Q=null):fe=!0}},va=ua,fa=j(38751),ma=["visible"],me=p+"-modal",Se=function(e){var a=e.visible,i=a===void 0?!1:a,t=_()(e,ma),o=function(u,v){var h={};if(u.style&&(h=u.style,typeof h=="string")){var l={cancel:{},default:{},destructive:{color:"red"}};h=l[h]||{}}var m=function(x){x.stopPropagation(),x.preventDefault(),u.onPress&&u.onPress()},s=I()({flex:1,padding:0,fontSize:"18px",height:"50px",lineHeight:"50px",textOverflow:"ellipsis",whiteSpace:"nowrap"},h);return(0,n.jsx)(na,{style:I()({},s),onClick:m,btnType:ve.Link,children:u.text||"Button"},v)},c=function(u){var v=u.title,h=u.message,l=u.footer;return(0,n.jsxs)("div",{className:"".concat(me),children:[v&&(0,n.jsx)("div",{className:"".concat(me,"-header"),children:v}),(0,n.jsx)("div",{className:"".concat(me,"-body"),children:h}),l&&(0,n.jsx)("div",{className:"".concat(me,"-footer"),children:l==null?void 0:l.map(function(m,s){return o(m,s)})})]})};return(0,n.jsx)(ke,{visible:i,children:(0,n.jsx)(c,I()({},t))})};Se.alert=function(r){var e=r.title,a=r.message,i=r.footer,t=document.createElement("div");document.body.appendChild(t);var o=(0,fa.createRoot)(t),c=function(){o.unmount(),t&&t.parentNode&&t.parentNode.removeChild(t)};return o.render((0,n.jsx)(Se,{visible:!0,title:e,message:a,footer:i})),{close:c}};var ha=Se,ga=ha,xa=["value","disabled","size","activeColor","inactiveColor"],ie=p+"-switch",Ca=function(e){var a=e.value,i=a===void 0?!1:a,t=e.disabled,o=t===void 0?!1:t,c=e.size,f=e.activeColor,u=e.inactiveColor,v=_()(e,xa),h=(0,k.useState)(i),l=W()(h,2),m=l[0],s=l[1],y=function(){o||(s(!m),e.onClick&&e.onClick(!i))},x=D()("".concat(ie),P()(P()(P()({},"".concat(ie,"-disabled"),o),"".concat(ie,"-active"),m),"".concat(ie,"-").concat(c),c)),d={};return(f||u)&&(d={backgroundColor:m?f:u}),(0,n.jsx)("div",I()(I()({className:x,style:d},v),{},{onClick:y,children:(0,n.jsx)("div",{className:"".concat(ie,"-round")})}))},ba=Ca,ya=["onBlur","onFocus","onChange"],ja=function(e){var a=e.onBlur,i=e.onFocus,t=e.onChange,o=_()(e,ya),c=(0,k.useRef)(null),f=function(l){var m=l.target.value;a&&a(m)},u=function(l){var m=l.target.value;i&&i(m)},v=function(l){var m=l.target.value.trim();t&&t(m)};return(0,n.jsx)("input",I()({ref:c,onChange:v,onBlur:f,onFocus:u},o))},Sa=ja,pa=["type","maxLength","label","required","disabled","readonly","clearble","onChange","onFocus","onBlur","onClear","value"];ee.library.add(U.faTimesCircle);var Na=function(e){var a="";switch(e){case"tel":a="tel";break;case"password":a="password";break;case"number":a="number";break;default:a=e}return a},he=p+"-input",Ia=function(e){var a=e.type,i=a===void 0?"text":a,t=e.maxLength,o=e.label,c=e.required,f=c===void 0?!1:c,u=e.disabled,v=u===void 0?!1:u,h=e.readonly,l=h===void 0?!1:h,m=e.clearble,s=m===void 0?!1:m,y=e.onChange,x=e.onFocus,d=e.onBlur,C=e.onClear,w=e.value,B=_()(e,pa),b=D()("".concat(he),P()(P()(P()({},"".concat(he,"-disabled"),v),"".concat(he,"-required"),f),"".concat(he,"-readonly"),l)),N=(0,k.useState)(w||""),z=W()(N,2),F=z[0],L=z[1];(0,k.useEffect)(function(){L(w||"")},[e.value]);var Y=function(E){if(i==="tel"){var q;E=((q=E)===null||q===void 0?void 0:q.replace(/\D/g,""))||""}L(E||""),y&&y(E)},R=function(E){x&&x(E)},H=function(E){d&&d(E)},V=function(){L(""),C&&C()},X=function(){var E=(F==null?void 0:F.length)||0;return t?(0,n.jsxs)("div",{className:"".concat(p,"-input-max-length"),children:[E,"/",t]}):null},M=Na(i);return(0,n.jsxs)("div",{className:b,children:[(0,n.jsx)("div",{className:"".concat(p,"-input-label"),children:o}),(0,n.jsx)(Sa,I()({className:"".concat(p,"-input-self"),onChange:Y,onFocus:R,onBlur:H,readOnly:l,disabled:v,type:M,value:F,maxLength:t},B)),!v&&!l&&s&&F&&(0,n.jsx)("div",{className:"".concat(p,"-input-clear"),onClick:V,children:(0,n.jsx)(A,{icon:"times-circle"})}),X()]})},Pa=Ia,Ta=j(15558),oe=j.n(Ta),ka=j(38126),ne=p+"-progress",$a=D()("".concat(ne,"-bar")),wa=function(e){var a=e.percent,i=e.fixed,t=i===void 0?!1:i,o=e.unfilled,c=e.color,f=e.trackColor,u=e.showPivot,v=e.pivoteText,h=e.textColor,l=e.pivotColor,m=e.inactive,s=e.children,y=e.wrapStyle,x=e.percentStyle,d,C,w,B=D()(ne,"".concat(ne,"-wrap"),P()(P()({},"".concat(ne,"-wrap-fixed"),t),"".concat(ne,"-inactive"),m)),b=o?{background:"transparent"}:{background:f};y=I()(I()({},b),y),x=I()({width:"".concat(a,"%"),backgroundColor:m?"rgb(202, 202, 202)":c},x);var N=function(){var M=v||"".concat(a,"%");if(!u)return"";var Z={color:h,background:m?"rgb(202, 202, 202)":l,left:"".concat(H,"px")};return(0,n.jsxs)("span",{ref:L,style:Z,className:"".concat(ne,"-bar-pivot"),children:[M,s]})},z=function(M){C=M},F=function(M){d=M},L=function(M){w=M},Y=(0,k.useState)(0),R=W()(Y,2),H=R[0],V=R[1];return(0,k.useEffect)(function(){setTimeout(function(){d&&C&&w&&V((C.offsetWidth-w.offsetWidth)*+a/100||d.offsetWidth)},10)},[a]),(0,n.jsx)("div",{ref:z,className:B,style:y,role:"progressbar","aria-valuenow":a,"aria-valuemin":0,"aria-valuemax":100,children:(0,n.jsx)("div",{className:$a,style:x,ref:F,children:N()})})},we=wa;ee.library.add(U.faTimes,U.faExclamationCircle);var le="".concat(p,"-uploader-item"),Fa=function(e){var a=e.item,i=e.imageFit,t=e.previewSize,o=e.deletable,c=e.index,f=e.beforeDelete,u=e.name,v=e.onDelete,h=function(){if(f){var d=f.apply(null,[a,{name:u,index:c}]);Ve(d)?d.then(function(C){C&&v&&v()}):d&&v&&v()}else v&&v()},l=function(){if(Ze(a))return(0,n.jsx)($e,{fit:i,width:t||"90px",height:t||"90px",src:a.content||a.url||""})},m=function(){if(o)return(0,n.jsx)("div",{className:"".concat(le,"-delete"),onClick:h,children:(0,n.jsx)("div",{className:"".concat(le,"-delete-icon"),children:(0,n.jsx)(A,{size:"2x",icon:"times"})})})},s=function(){var d=a.status,C=a.message;if(!(!d||d==="done"))return(0,n.jsxs)("div",{className:"".concat(le,"-mask"),children:[d==="loading"&&(0,n.jsx)(A,{size:"lg",icon:"spinner",spin:!0}),d==="failed"&&(0,n.jsx)(A,{size:"lg",icon:"exclamation-circle"}),(0,n.jsx)("span",{children:C})]})},y=function(){var d=a.percent,C=a.status;if(C==="uploading")return(0,n.jsx)("div",{className:"".concat(le,"-progress-wrap"),children:(0,n.jsx)(we,{percent:d||0,wrapStyle:{height:"8px"}})})};return(0,n.jsxs)("div",{className:le,children:[l(),m(),s(),y()]})},La=Fa,Fe=(0,k.createContext)({length:0}),za=p+"-breadcrmb",Ba=function(e){var a=e.separator,i=a===void 0?"/":a,t=e.children,o=e.inactiveColor,c=e.activeColor,f=e.onSelect,u=function(s){f&&f(s)},v={length:(t==null?void 0:t.length)||0,separator:i,inactiveColor:o,activeColor:c,onSelect:u},h=D()(za),l=function(){return k.Children.map(t,function(s,y){var x=s;if(x.type.displayName==="BreadcrumbItem")return k.cloneElement(x,{index:y});console.error("Warning: Breadcrumb has a child which is not BreadcrumbItem")})};return(0,n.jsx)("ul",{className:h,children:(0,n.jsx)(Fe.Provider,{value:v,children:l()})})},Da=Ba,ge=p+"-breadcrmb-item",Le=function(e){var a=e.index,i=e.disabled,t=e.children,o=D()(ge,P()({},"".concat(ge,"-disabled"),i)),c=(0,k.useContext)(Fe),f=function(){i||c.onSelect&&c.onSelect(a)},u={color:c.length-1===a?c.activeColor:c.inactiveColor};return(0,n.jsxs)("li",{className:o,onClick:f,style:u,children:[(0,n.jsx)("span",{className:"".concat(ge,"-link"),children:t}),(0,n.jsx)("span",{className:"".concat(ge,"-separator"),children:c.length-1!==a&&c.separator})]})};Le.displayName="BreadcrumbItem";var Ea=Le,ze=j(32699),Be=j.n(ze);ee.library.add(U.faCheck);var xe=p+"-tree-select-content",De=function(){var e=(0,k.useContext)(pe),a=e.data,i=e.index,t=i===void 0?0:i,o=e.activeId,c=e.multiple,f=e.onChangeTreeItem,u=e.activeColor,v=e.inactiveColor,h=[];a&&a[t]&&a[t].children&&(h=a[t].children);var l=(0,k.useState)(o),m=W()(l,2),s=m[0],y=m[1],x=function(b){if(!b.disabled){var N=b.value;if(s!=null&&s.includes(N)){var z=s.indexOf(N),F=Be().cloneDeep(s);F.splice(z,1),y(F),f&&f(b,F)}else if(c){var L=Be().cloneDeep(s);L==null||L.push(N),y(L),f&&f(b,L)}else y([N]),f&&f(b,N)}},d=function(b){var N=D()("".concat(xe,"-item"),P()(P()({},"".concat(xe,"-item-active"),s.includes(b.value)),"".concat(xe,"-item-disabled"),b.disabled));return N},C=function(b){return u||v?{color:s.includes(b)?u:v||""}:{}},w=function(){return h.map(function(b,N){var z=function(L){return s.includes(L.value)?(0,n.jsx)(A,{icon:"check"}):""};return(0,n.jsxs)("li",{className:d(b),style:C(b.value),onClick:x.bind(void 0,b),children:[(0,n.jsx)("span",{children:b.label}),(0,n.jsx)("span",{children:z(b)})]},N)})};return(0,n.jsx)("ul",{className:xe,children:w()})};De.displayName="TreeSelectItem";var Ra=De,ce=p+"-tree-select",Ma=function(){var e=(0,k.useContext)(pe),a=e.data,i=e.index,t=i===void 0?0:i,o=e.onChangeTree,c=e.activeColor,f=(0,k.useState)(t),u=W()(f,2),v=u[0],h=u[1],l=function(d,C){d.disabled||(h(C),o&&o(d,C))},m=function(d,C){return D()("".concat(ce,"-sidebar-item"),P()(P()({},"".concat(ce,"-sidebar-item-active"),v===C),"".concat(ce,"-sidebar-item-disabled"),d.disabled))},s=function(d){return{backgroundColor:c&&d===v?c:""}},y=function(){return!a||!a.length?(console.warn("The data is not a Array or the length of the data is 0"),""):a.map(function(d,C){return(0,n.jsxs)("li",{onClick:l.bind(void 0,d,C),className:m(d,C),children:[(0,n.jsx)("span",{style:s(C),className:"".concat(ce,"-sidebar-item-line")}),d.label]},C)})};return(0,n.jsx)("ul",{className:"".concat(ce,"-sidebar"),children:y()})},Aa=Ma,pe=(0,k.createContext)({multiple:!1,data:[]}),Oa=p+"-tree-select",Ua=function(e){var a=e.data,i=a===void 0?[]:a,t=e.onChangeTree,o=e.onChangeTreeItem,c=e.inactiveColor,f=e.activeColor,u=e.index,v=u===void 0?0:u,h=e.activeId,l=h===void 0?[]:h,m=e.multiple,s=e.height,y=s===void 0?"300px":s,x=(0,k.useState)(v||0),d=W()(x,2),C=d[0],w=d[1],B=function(F,L){o&&o(F,L)},b=function(F,L){w(L),t&&t(F,L)},N={inactiveColor:c,activeColor:f,data:i,multiple:m,onChangeTreeItem:B,onChangeTree:b,index:C,activeId:Array.isArray(l)?l:[l]};return(0,n.jsx)("div",{className:Oa,style:{height:y},children:(0,n.jsxs)(pe.Provider,{value:N,children:[(0,n.jsx)(Aa,{}),(0,n.jsx)(Ra,{})]})})},Wa=Ua,Ha=["children","color","dot","max","size","fixed","style","content"],se=p+"-badge",Za=function(e){var a=e.children,i=e.color,t=e.dot,o=t===void 0?!1:t,c=e.max,f=c===void 0?99:c,u=e.size,v=e.fixed,h=e.style,l=e.content,m=_()(e,Ha),s=l,y=I()({backgroundColor:i},h);s&&(s=Number(s)?Number(s):s);var x=function(){return o?"":typeof s=="number"&&s>f?"".concat(f,"+"):s},d=D()("".concat(se,"-wrap")),C=D()(se,P()(P()(P()({},"".concat(se,"-dot-large"),o&&u==="lg"),"".concat(se,"-fixed"),typeof s=="number"||v||o),"".concat(se,"-dot"),o));return(0,n.jsxs)("div",{className:d,children:[a,(s||o)&&(0,n.jsx)("sup",I()(I()({className:C,style:I()({},y)},m),{},{children:x()}))]})},Ga=Za;ee.library.add(U.faCamera);var Ce="".concat(p,"-uploader"),Va=function(e){var a=(0,k.useRef)(null),i=e.multiple,t=i===void 0?!0:i,o=e.disabled,c=o===void 0?!1:o,f=e.customHeaer,u=e.previewSize,v=e.imageFit,h=v===void 0?"fill":v,l=e.maxCount,m=e.deletable,s=m===void 0?!0:m,y=e.name,x=e.customFileName,d=e.maxSize,C=e.accept,w=C===void 0?"image/*":C,B=e.action,b=e.onOversize,N=e.onChange,z=e.beforeUpload,F=e.onRemove,L=(0,k.useState)(e.fileList||[]),Y=W()(L,2),R=Y[0],H=Y[1],V=function(g,T){H(function(S){return S.map(function($){return $.uid===g.uid?I()(I()({},$),T):$})})},X=function(g){g.forEach(function(T){M(T,g)})},M=function(g,T){var S,$={uid:Date.now()+"upload-file",file:g.file,status:"",message:"",content:g.content};if(H(function(J){return[].concat(oe()(J),[$])}),!!g.file){var G=new FormData;G.append(x||((S=g.file)===null||S===void 0?void 0:S.name),g.file),ka.Z.post(B,G,{headers:I()({"Content-Type":"multipart/form-data"},f),onUploadProgress:function(te){var K,Ne=Math.round(te.loaded*100/((K=te.total)!==null&&K!==void 0?K:0))||0;V($,{percent:Ne,status:"uploading"})}}).then(function(J){N&&N(g.file,T,J),V($,{status:"done"})}).catch(function(J){N&&N(g.file,T,J),V($,{status:"failed",message:"\u4E0A\u4F20\u5931\u8D25"})})}},Z=function(g,T){return(0,n.jsx)(La,{item:g,imageFit:h,index:T,previewSize:u,beforeDelete:g.beforeDelete,deletable:s,name:y,onDelete:function(){E(g,T)}},T)},E=function(g,T){var S=R.slice(0),$=S.splice(T,1);H(S),F&&F($[0])},q=function(){return R.map(Z)},de=function(g){return new Promise(function(T){var S=new FileReader;S.onload=function($){T($.target.result)},S.readAsDataURL(g)})},be=function(g){if(ue(),d&&Pe(g,d))if((0,ze.isArray)(g)){var T=Xe(g,d),S=T.valid,$=T.invalid;g=S,b&&b($)}else{b&&b(ye(g));return}if(g=ye(g),B){if(!g.length)return;X(g)}else H([].concat(oe()(R),oe()(g))),N&&N("",[].concat(oe()(R),oe()(g)),"\u6587\u4EF6\u9009\u62E9")},ue=function(){a!=null&&a.current&&(a.current.value="")},Ja=function(g){if(Array.isArray(g)){if(l){var T=+l-R.length;g.length>T&&(g=g.slice(0,T))}Promise.all(g.map(function(S){return de(S)})).then(function(S){var $=g.map(function(G,J){var te={uid:Date.now()+"upload-file",file:G,status:"",message:""};if(S[J]&&(te.content=S[J]),z){var K=z(G);if(!K)return!1;if(K&&K instanceof Promise)K.then(function(Ne){return Ne}).catch(function(){});else if(K)return te}return te});$=$.filter(function(G){return G}),$.length&&be($)})}else de(g).then(function(S){if(l){var $=+l-R.length;if($<=0)return}var G={uid:Date.now()+"upload-file",file:g,status:"",message:""};S&&(G.content=S),be(G)})},Ka=function(g){var T=g.target,S=T.files;if(!(c||!S||!S.length)){var $=S.length===1?[S[0]]:[].slice.call(S);Ja($)}},Qa=function(){var g=function(){return(0,n.jsx)("input",{ref:a,type:"file",accept:w,className:"".concat(Ce,"-input"),capture:!0,multiple:t,disabled:c,onChange:Ka})},T=D()("".concat(Ce,"-button"),P()({},"".concat(Ce,"-button-disabled"),c));return(0,n.jsxs)("div",{className:T,children:[(0,n.jsx)(A,{icon:"camera"}),g()]})};return(0,n.jsxs)("div",{className:Ce,children:[q(),Qa()]})},Xa=Va}}]);
