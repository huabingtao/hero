"use strict";(self.webpackChunkreact_single_ui=self.webpackChunkreact_single_ui||[]).push([[148],{15148:function(Ja,Ie,S){S.r(Ie),S.d(Ie,{Badge:function(){return Wa},Breadcrumb:function(){return La},BreadcrumbItem:function(){return Fa},Button:function(){return na},Icon:function(){return M},Image:function(){return we},Input:function(){return Sa},Loading:function(){return Te},Mask:function(){return $e},Modal:function(){return fa},Progress:function(){return Le},Switch:function(){return ga},Toast:function(){return da},TreeSelect:function(){return Ma},Uploader:function(){return Ha}});var I=S(75271),Ae=S(82187),D=S.n(Ae),Me=S(26068),y=S.n(Me),Oe=S(67825),V=S.n(Oe),Ue=S(6024),We=S(31759),Ge=S.n(We),N="sn";function ye(t){return Array.isArray(t)?t:[t]}var He=/\.(jpeg|jpg|gif|png|svg|webp|jfif|bmp|dpg)/i;function Xe(t){return He.test(t)}function Ze(t){return t.isImage?!0:t.file&&t.file.type?t.file.type.indexOf("image")===0:t.url?Xe(t.url):typeof t.content=="string"?t.content.indexOf("data:image")===0:!1}function je(t){return typeof t=="function"}function Ve(t){return t!==null&&Ge()(t)==="object"}function Je(t){return Ve(t)&&je(t.then)&&je(t.catch)}function Pe(t,e){return ye(t).some(function(a){return a.file?je(e)?e(a.file):a.file.size>Number(e):!1})}function Ke(t,e){var a=[],i=[];return t.forEach(function(r){Pe(r,e)&&i.push(r),a.push(r)}),{valid:a,invalid:i}}var n=S(52676),Qe=["className","icon"],Ye=function(e){var a=e.className,i=e.icon,r=V()(e,Qe),s=i,l=D()("".concat(N,"-icon"),a);return(0,n.jsx)(Ue.G,y()({icon:s,className:l},r))},M=Ye,Y=S(24168),R=S(36617);Y.library.add(R.faSpinner,R.faCircleNotch,R.faRotate);var qe=function(e){var a=e.children,i=e.type,r=i===void 0?"spinner":i,s=e.textSize,l=s===void 0?"12":s,f=e.className,o=e.textColor,u=o===void 0?"#000":o,m=e.color,v=m===void 0?"#000":m,h=e.size,c=h===void 0?"lg":h,j=D()("".concat(N,"-loading"),f),x=r||"spinner";return(0,n.jsxs)("div",{className:"".concat(j," inline-flex flex-col items-center"),children:[(0,n.jsx)(M,{icon:x,color:v,size:c,spin:!0}),(0,n.jsx)("span",{className:"inline-block mt-1",style:{fontSize:l+"px",color:u},children:a})]})},Te=qe,_e=S(82092),k=S.n(_e),ea=S(77762),aa=["btnType","block","disabled","size","children","className","href","activeClassName","type"],Ka=function(t){return t.Large="lg",t.Small="sm",t}({}),ue=function(t){return t.Primary="primary",t.Default="default",t.Danger="danger",t.Link="link",t}({}),ke=function(e){var a=e.btnType,i=a===void 0?ue.Default:a,r=e.block,s=r===void 0?!1:r,l=e.disabled,f=l===void 0?!1:l,o=e.size,u=e.children,m=e.className,v=e.href,h=e.activeClassName,c=e.type,j=c===void 0?"button":c,x=V()(e,aa),d=N+"-btn",C=D()("".concat(d),m,k()(k()(k()(k()({},"".concat(d,"-").concat(i),i),"".concat(d,"-").concat(o),o),"".concat(d,"-block"),s),"disabled",i===ue.Link&&f));return i===ue.Link?(0,n.jsx)("a",y()(y()({className:C,href:v},x),{},{children:u})):(0,n.jsx)(ea.Z,{activeClassName:"".concat(d,"-active ").concat(h),children:(0,n.jsx)("button",y()(y()({className:C,type:j},x),{},{disabled:f,children:u}))})},na=ke,ta=ke,ra=S(48305),U=S.n(ra),ia=S(30967),oa=function(e){var a=e.visible,i=a===void 0?!1:a,r=e.className,s=e.backgroundColor,l=s===void 0?"#00000066":s,f=e.zIndex,o=f===void 0?999:f,u=e.onMaskClick,m=e.children,v=(0,I.useState)(null),h=U()(v,2),c=h[0],j=h[1];(0,I.useEffect)(function(){if(i){var z=document.createElement("div");z.style.height="100%";var B="".concat(N,"-container-").concat(new Date().getTime());z.setAttribute("id",B),document.body.appendChild(z),j(z);var b=function(F){F.preventDefault(),F.stopPropagation()};return document.body.addEventListener("touchmove",b,{passive:!1}),document.body.addEventListener("scroll",b,{passive:!1}),function(){document.body.removeChild(z),document.body.removeEventListener("touchmove",b),document.body.removeEventListener("scroll",b)}}},[i]);var x=function(){u&&u()},d="".concat(N,"-mask ").concat(r),C=(0,n.jsx)("div",{className:d,onClick:x,style:{backgroundColor:l,zIndex:o},children:m});return i&&c?(0,ia.createPortal)(C,c):null},$e=oa,la=S(78760);Y.library.add(R.faImage,R.faSadTear);var ca=function(e){var a=(0,I.useState)(!0),i=U()(a,2),r=i[0],s=i[1],l=(0,I.useState)(!1),f=U()(l,2),o=f[0],u=f[1],m=e.alt,v=e.width,h=v===void 0?"90px":v,c=e.height,j=c===void 0?"90px":c,x=e.src,d=e.fit,C=d===void 0?"fill":d,z=e.radius,B=e.round,b=B===void 0?!1:B,P=e.onLoad,F=e.onError,$=e.showLoading,L=$===void 0?!1:$,J=e.showError,A=e.lazyLoad;(0,I.useEffect)(function(){x||u(!0)},[]);var W=D()("".concat(N,"-image-wrap"),k()({},"".concat(N,"-image-wrap-round"),b)),H={width:h,height:j,borderRadius:b?"50%":z},le=function(){if(r&&L)return(0,n.jsx)("div",{className:"".concat(N,"-image-loading"),children:(0,n.jsx)(M,{icon:"image",color:"#969799",size:"3x"})});if(o&&J)return(0,n.jsx)("div",{className:"".concat(N,"-image-error"),children:(0,n.jsx)(M,{icon:"sad-tear",color:"#969799",size:"3x"})})},ce=function(){if(!(!x||o)){var E=function(de){s(!1),P&&P(de)},Q=function(de){u(!0),F&&F(de)},se={alt:m,src:x,style:{objectFit:C}};return A?(0,n.jsx)(la.ZP,{scroll:!0,offset:-20,children:(0,n.jsx)("img",y()({className:"".concat(N,"-image-img"),onError:Q,onLoad:E},se))}):(0,n.jsx)("img",y()({className:"".concat(N,"-image-img"),onError:Q,onLoad:E},se))}};return(0,n.jsxs)("div",{style:H,className:W,children:[le(),ce()]})},we=ca,ze=S(38751),sa=["content","duration","onAfterClose"];Y.library.add(R.faCheck,R.faXmark);var ae=[],ve=N+"-toast",q=function(e){var a=e.type,i=e.content,r=e.maskClickable,s=r===void 0?!0:r,l=D()(ve,k()({},"".concat(ve,"-").concat(a),a)),f=(0,I.useMemo)(function(){switch(a){case"success":return(0,n.jsx)(M,{icon:R.faCheck,size:"2x"});case"fail":return(0,n.jsx)(M,{icon:R.faXmark,size:"2x"});case"loading":return(0,n.jsx)(Te,{size:"2x",color:"#fff"});default:return""}},[a]);return(0,n.jsx)("div",{className:l,style:{pointerEvents:s?"none":"auto"},children:(0,n.jsxs)("div",{className:"".concat(ve,"-content"),children:[a!=="info"&&(0,n.jsx)("div",{className:"".concat(ve,"-icon-wrap"),children:f}),(0,n.jsx)("p",{children:i})]})})},fe=function(e,a){var i=a.content,r=a.duration,s=r===void 0?3:r,l=a.onAfterClose,f=V()(a,sa),o=document.createElement("div");document.body.appendChild(o);var u=(0,ze.createRoot)(o),m=function v(){var h=ae.indexOf(v);h!==-1&&ae.splice(h,1),u.unmount(),o&&o.parentNode&&o.parentNode.removeChild(o),l&&l()};return s&&setTimeout(function(){m()},s*1e3),ae.push(m),u.render((0,n.jsx)(q,y()({content:i},f))),m};q.closeAll=function(){for(;ae.length>0;){var t=ae.pop();t&&t()}},q.info=function(t){return fe("info",y()(y()({},t),{},{type:"info"}))},q.success=function(t){return fe("success",y()(y()({},t),{},{type:"success"}))},q.fail=function(t){return fe("fail",y()(y()({},t),{},{type:"fail"}))},q.loading=function(t){return fe("loading",y()(y()({},t),{},{type:"loading"}))};var da=q,ua=["visible"],he=N+"-modal",pe=function(e){var a=e.visible,i=a===void 0?!1:a,r=V()(e,ua),s=function(o,u){var m={};if(o.style&&(m=o.style,typeof m=="string")){var v={cancel:{},default:{},destructive:{color:"red"}};m=v[m]||{}}var h=function(x){x.stopPropagation(),x.preventDefault(),o.onPress&&o.onPress()},c=y()({flex:1,padding:0,fontSize:"18px",height:"50px",lineHeight:"50px",textOverflow:"ellipsis",whiteSpace:"nowrap"},m);return(0,n.jsx)(ta,{style:y()({},c),onClick:h,btnType:ue.Link,children:o.text||"Button"},u)},l=function(o){var u=o.title,m=o.message,v=o.footer;return(0,n.jsxs)("div",{className:"".concat(he),children:[u&&(0,n.jsx)("div",{className:"".concat(he,"-header"),children:u}),(0,n.jsx)("div",{className:"".concat(he,"-body"),children:m}),v&&(0,n.jsx)("div",{className:"".concat(he,"-footer"),children:v==null?void 0:v.map(function(h,c){return s(h,c)})})]})};return(0,n.jsx)($e,{visible:i,children:(0,n.jsx)(l,y()({},r))})};pe.alert=function(t){var e=t.title,a=t.message,i=t.footer,r=document.createElement("div");document.body.appendChild(r);var s=(0,ze.createRoot)(r),l=function(){s.unmount(),r&&r.parentNode&&r.parentNode.removeChild(r)};return s.render((0,n.jsx)(pe,{visible:!0,title:e,message:a,footer:i})),{close:l}};var va=pe,fa=va,ha=["value","disabled","size","activeColor","inactiveColor"],ne=N+"-switch",ma=function(e){var a=e.value,i=a===void 0?!1:a,r=e.disabled,s=r===void 0?!1:r,l=e.size,f=e.activeColor,o=e.inactiveColor,u=V()(e,ha),m=(0,I.useState)(i),v=U()(m,2),h=v[0],c=v[1],j=function(){s||(c(!h),e.onClick&&e.onClick(!i))},x=D()("".concat(ne),k()(k()(k()({},"".concat(ne,"-disabled"),s),"".concat(ne,"-active"),h),"".concat(ne,"-").concat(l),l)),d={};return(f||o)&&(d={backgroundColor:h?f:o}),(0,n.jsx)("div",y()(y()({className:x,style:d},u),{},{onClick:j,children:(0,n.jsx)("div",{className:"".concat(ne,"-round")})}))},ga=ma,xa=["onBlur","onFocus","onChange"],Ca=function(e){var a=e.onBlur,i=e.onFocus,r=e.onChange,s=V()(e,xa),l=(0,I.useRef)(null),f=function(v){var h=v.target.value;a&&a(h)},o=function(v){var h=v.target.value;i&&i(h)},u=function(v){var h=v.target.value.trim();r&&r(h)};return(0,n.jsx)("input",y()({ref:l,onChange:u,onBlur:f,onFocus:o},s))},ba=Ca,ya=["type","maxLength","label","required","disabled","readonly","clearble","onChange","onFocus","onBlur","onClear","value"];Y.library.add(R.faTimesCircle);var ja=function(e){var a="";switch(e){case"tel":a="tel";break;case"password":a="password";break;case"number":a="number";break;default:a=e}return a},me=N+"-input",pa=function(e){var a=e.type,i=a===void 0?"text":a,r=e.maxLength,s=e.label,l=e.required,f=l===void 0?!1:l,o=e.disabled,u=o===void 0?!1:o,m=e.readonly,v=m===void 0?!1:m,h=e.clearble,c=h===void 0?!1:h,j=e.onChange,x=e.onFocus,d=e.onBlur,C=e.onClear,z=e.value,B=V()(e,ya),b=D()("".concat(me),k()(k()(k()({},"".concat(me,"-disabled"),u),"".concat(me,"-required"),f),"".concat(me,"-readonly"),v)),P=(0,I.useState)(z||""),F=U()(P,2),$=F[0],L=F[1];(0,I.useEffect)(function(){L(z||"")},[e.value]);var J=function(E){if(i==="tel"){var Q;E=((Q=E)===null||Q===void 0?void 0:Q.replace(/\D/g,""))||""}L(E||""),j&&j(E)},A=function(E){x&&x(E)},W=function(E){d&&d(E)},H=function(){L(""),C&&C()},le=function(){var E=($==null?void 0:$.length)||0;return r?(0,n.jsxs)("div",{className:"".concat(N,"-input-max-length"),children:[E,"/",r]}):null},ce=ja(i);return(0,n.jsxs)("div",{className:b,children:[(0,n.jsx)("div",{className:"".concat(N,"-input-label"),children:s}),(0,n.jsx)(ba,y()({className:"".concat(N,"-input-self"),onChange:J,onFocus:A,onBlur:W,readOnly:v,disabled:u,type:ce,value:$,maxLength:r},B)),!u&&!v&&c&&$&&(0,n.jsx)("div",{className:"".concat(N,"-input-clear"),onClick:H,children:(0,n.jsx)(M,{icon:"times-circle"})}),le()]})},Sa=pa,Na=S(15558),te=S.n(Na),Ia=S(38126),_=N+"-progress",Pa=D()("".concat(_,"-bar")),Ta=function(e){var a=e.percent,i=e.fixed,r=i===void 0?!1:i,s=e.unfilled,l=e.color,f=e.trackColor,o=e.showPivot,u=e.pivoteText,m=e.textColor,v=e.pivotColor,h=e.inactive,c=e.children,j=e.wrapStyle,x=e.percentStyle,d=(0,I.useRef)(null),C=(0,I.useRef)(null),z=(0,I.useRef)(null),B=D()(_,"".concat(_,"-wrap"),k()(k()({},"".concat(_,"-wrap-fixed"),r),"".concat(_,"-inactive"),h)),b=s?{background:"transparent"}:{background:f};j=y()(y()({},b),j),x=y()({width:"".concat(a,"%"),backgroundColor:h?"rgb(202, 202, 202)":l},x);var P=function(){var W=u||"".concat(a,"%");if(!o)return"";var H={color:m,background:h?"rgb(202, 202, 202)":v,left:"".concat(L,"px")};return(0,n.jsxs)("span",{ref:z,style:H,className:"".concat(_,"-bar-pivot"),children:[W,c]})},F=(0,I.useState)(0),$=U()(F,2),L=$[0],J=$[1];return(0,I.useLayoutEffect)(function(){var A=setTimeout(function(){d.current&&C.current&&z.current&&J((C.current.offsetWidth-z.current.offsetWidth)*+a/100||d.current.offsetWidth)},10);return function(){clearTimeout(A)}},[a]),(0,n.jsx)("div",{ref:C,className:B,style:j,role:"progressbar","aria-valuenow":a,"aria-valuemin":0,"aria-valuemax":100,children:(0,n.jsx)("div",{className:Pa,style:x,ref:d,children:P()})})},Le=Ta;Y.library.add(R.faTimes,R.faExclamationCircle);var re="".concat(N,"-uploader-item"),ka=function(e){var a=e.item,i=e.imageFit,r=e.previewSize,s=e.deletable,l=e.index,f=e.beforeDelete,o=e.name,u=e.onDelete,m=function(){if(f){var d=f.apply(null,[a,{name:o,index:l}]);Je(d)?d.then(function(C){C&&u&&u()}):d&&u&&u()}else u&&u()},v=function(){if(Ze(a))return(0,n.jsx)(we,{fit:i,width:r||"90px",height:r||"90px",src:a.content||a.url||""})},h=function(){if(s)return(0,n.jsx)("div",{className:"".concat(re,"-delete"),onClick:m,children:(0,n.jsx)("div",{className:"".concat(re,"-delete-icon"),children:(0,n.jsx)(M,{size:"2x",icon:"times"})})})},c=function(){var d=a.status,C=a.message;if(!(!d||d==="done"))return(0,n.jsxs)("div",{className:"".concat(re,"-mask"),children:[d==="loading"&&(0,n.jsx)(M,{size:"lg",icon:"spinner",spin:!0}),d==="failed"&&(0,n.jsx)(M,{size:"lg",icon:"exclamation-circle"}),(0,n.jsx)("span",{children:C})]})},j=function(){var d=a.percent,C=a.status;if(C==="uploading")return(0,n.jsx)("div",{className:"".concat(re,"-progress-wrap"),children:(0,n.jsx)(Le,{percent:d||0,wrapStyle:{height:"8px"}})})};return(0,n.jsxs)("div",{className:re,children:[v(),h(),c(),j()]})},$a=ka,Fe=(0,I.createContext)({length:0}),wa=N+"-breadcrmb",za=function(e){var a=e.separator,i=a===void 0?"/":a,r=e.children,s=e.inactiveColor,l=e.activeColor,f=e.onSelect,o=function(c){f&&f(c)},u={length:r==null?void 0:r.length,separator:i,inactiveColor:s,activeColor:l,onSelect:o},m=D()(wa),v=function(){return I.Children.map(r,function(c,j){var x=c;if(x.type.displayName==="BreadcrumbItem")return I.cloneElement(x,{index:j});console.error("Warning: Breadcrumb has a child which is not BreadcrumbItem")})};return(0,n.jsx)("ul",{className:m,children:(0,n.jsx)(Fe.Provider,{value:u,children:v()})})},La=za,ge=N+"-breadcrmb-item",Be=function(e){var a=e.index,i=e.disabled,r=e.children,s=D()(ge,k()({},"".concat(ge,"-disabled"),i)),l=(0,I.useContext)(Fe),f=function(){i||l.onSelect&&l.onSelect(a)},o={color:l.length-1===a?l.activeColor:l.inactiveColor};return(0,n.jsxs)("li",{className:s,onClick:f,style:o,children:[(0,n.jsx)("span",{className:"".concat(ge,"-link"),children:r}),(0,n.jsx)("span",{className:"".concat(ge,"-separator"),children:l.length-1!==a&&l.separator})]})};Be.displayName="BreadcrumbItem";var Fa=Be,De=S(32699),Ee=S.n(De);Y.library.add(R.faCheck);var xe=N+"-tree-select-content",Re=function(){var e=(0,I.useContext)(Se),a=e.data,i=e.index,r=i===void 0?0:i,s=e.activeId,l=e.multiple,f=e.onChangeTreeItem,o=e.activeColor,u=e.inactiveColor,m=[];a&&a[r]&&a[r].children&&(m=a[r].children);var v=(0,I.useState)(s),h=U()(v,2),c=h[0],j=h[1],x=function(b){if(!b.disabled){var P=b.value;if(c!=null&&c.includes(P)){var F=c.indexOf(P),$=Ee().cloneDeep(c);$.splice(F,1),j($),f&&f(b,$)}else if(l){var L=Ee().cloneDeep(c);L==null||L.push(P),j(L),f&&f(b,L)}else j([P]),f&&f(b,P)}},d=function(b){var P=D()("".concat(xe,"-item"),k()(k()({},"".concat(xe,"-item-active"),c.includes(b.value)),"".concat(xe,"-item-disabled"),b.disabled));return P},C=function(b){return o||u?{color:c.includes(b)?o:u||""}:{}},z=function(){return m.map(function(b,P){var F=function(L){return c.includes(L.value)?(0,n.jsx)(M,{icon:"check"}):""};return(0,n.jsxs)("li",{className:d(b),style:C(b.value),onClick:x.bind(void 0,b),children:[(0,n.jsx)("span",{children:b.label}),(0,n.jsx)("span",{children:F(b)})]},P)})};return(0,n.jsx)("ul",{className:xe,children:z()})};Re.displayName="TreeSelectItem";var Ba=Re,ie=N+"-tree-select",Da=function(){var e=(0,I.useContext)(Se),a=e.data,i=e.index,r=i===void 0?0:i,s=e.onChangeTree,l=e.activeColor,f=(0,I.useState)(r),o=U()(f,2),u=o[0],m=o[1],v=function(d,C){d.disabled||(m(C),s&&s(d,C))},h=function(d,C){return D()("".concat(ie,"-sidebar-item"),k()(k()({},"".concat(ie,"-sidebar-item-active"),u===C),"".concat(ie,"-sidebar-item-disabled"),d.disabled))},c=function(d){return{backgroundColor:l&&d===u?l:""}},j=function(){return!a||!a.length?(console.warn("The data is not a Array or the length of the data is 0"),""):a.map(function(d,C){return(0,n.jsxs)("li",{onClick:v.bind(void 0,d,C),className:h(d,C),children:[(0,n.jsx)("span",{style:c(C),className:"".concat(ie,"-sidebar-item-line")}),d.label]},C)})};return(0,n.jsx)("ul",{className:"".concat(ie,"-sidebar"),children:j()})},Ea=Da,Se=(0,I.createContext)({multiple:!1,data:[]}),Ra=N+"-tree-select",Aa=function(e){var a=e.data,i=a===void 0?[]:a,r=e.onChangeTree,s=e.onChangeTreeItem,l=e.inactiveColor,f=e.activeColor,o=e.index,u=o===void 0?0:o,m=e.activeId,v=m===void 0?[]:m,h=e.multiple,c=e.height,j=c===void 0?"300px":c,x=(0,I.useState)(u||0),d=U()(x,2),C=d[0],z=d[1],B=function($,L){s&&s($,L)},b=function($,L){z(L),r&&r($,L)},P={inactiveColor:l,activeColor:f,data:i,multiple:h,onChangeTreeItem:B,onChangeTree:b,index:C,activeId:Array.isArray(v)?v:[v]};return(0,n.jsx)("div",{className:Ra,style:{height:j},children:(0,n.jsxs)(Se.Provider,{value:P,children:[(0,n.jsx)(Ea,{}),(0,n.jsx)(Ba,{})]})})},Ma=Aa,Oa=["children","color","dot","max","size","fixed","style","content"],oe=N+"-badge",Ua=function(e){var a=e.children,i=e.color,r=e.dot,s=r===void 0?!1:r,l=e.max,f=l===void 0?99:l,o=e.size,u=e.fixed,m=e.style,v=e.content,h=V()(e,Oa),c=v,j=y()({backgroundColor:i},m);c&&(c=Number(c)?Number(c):c);var x=function(){return s?"":typeof c=="number"&&c>f?"".concat(f,"+"):c},d=D()("".concat(oe,"-wrap")),C=D()(oe,k()(k()(k()({},"".concat(oe,"-dot-large"),s&&o==="lg"),"".concat(oe,"-fixed"),typeof c=="number"||u||s),"".concat(oe,"-dot"),s));return(0,n.jsxs)("div",{className:d,children:[a,(c||s)&&(0,n.jsx)("sup",y()(y()({className:C,style:y()({},j)},h),{},{children:x()}))]})},Wa=Ua;Y.library.add(R.faCamera);var Ce="".concat(N,"-uploader"),Ga=function(e){var a=(0,I.useRef)(null),i=e.multiple,r=i===void 0?!0:i,s=e.disabled,l=s===void 0?!1:s,f=e.customHeaer,o=e.previewSize,u=e.imageFit,m=u===void 0?"fill":u,v=e.maxCount,h=e.deletable,c=h===void 0?!0:h,j=e.name,x=e.customFileName,d=e.maxSize,C=e.accept,z=C===void 0?"image/*":C,B=e.action,b=e.onOversize,P=e.onChange,F=e.beforeUpload,$=e.onRemove,L=(0,I.useState)(e.fileList||[]),J=U()(L,2),A=J[0],W=J[1],H=function(g,T){W(function(p){return p.map(function(w){return w.uid===g.uid?y()(y()({},w),T):w})})},le=function(g){g.forEach(function(T){ce(T,g)})},ce=function(g,T){var p,w={uid:Date.now()+"upload-file",file:g.file,status:"",message:"",content:g.content};if(W(function(X){return[].concat(te()(X),[w])}),!!g.file){var G=new FormData;G.append(x||((p=g.file)===null||p===void 0?void 0:p.name),g.file),Ia.Z.post(B,G,{headers:y()({"Content-Type":"multipart/form-data"},f),onUploadProgress:function(ee){var Z,Ne=Math.round(ee.loaded*100/((Z=ee.total)!==null&&Z!==void 0?Z:0))||0;H(w,{percent:Ne,status:"uploading"})}}).then(function(X){P&&P(g.file,T,X),H(w,{status:"done"})}).catch(function(X){P&&P(g.file,T,X),H(w,{status:"failed",message:"\u4E0A\u4F20\u5931\u8D25"})})}},K=function(g,T){return(0,n.jsx)($a,{item:g,imageFit:m,index:T,previewSize:o,beforeDelete:g.beforeDelete,deletable:c,name:j,onDelete:function(){E(g,T)}},T)},E=function(g,T){var p=A.slice(0),w=p.splice(T,1);W(p),$&&$(w[0])},Q=function(){return A.map(K)},se=function(g){return new Promise(function(T){var p=new FileReader;p.onload=function(w){T(w.target.result)},p.readAsDataURL(g)})},be=function(g){if(de(),d&&Pe(g,d))if((0,De.isArray)(g)){var T=Ke(g,d),p=T.valid,w=T.invalid;g=p,b&&b(w)}else{b&&b(ye(g));return}if(g=ye(g),B){if(!g.length)return;le(g)}else W([].concat(te()(A),te()(g))),P&&P("",[].concat(te()(A),te()(g)),"\u6587\u4EF6\u9009\u62E9")},de=function(){a!=null&&a.current&&(a.current.value="")},Xa=function(g){if(Array.isArray(g)){if(v){var T=+v-A.length;g.length>T&&(g=g.slice(0,T))}Promise.all(g.map(function(p){return se(p)})).then(function(p){var w=g.map(function(G,X){var ee={uid:Date.now()+"upload-file",file:G,status:"",message:""};if(p[X]&&(ee.content=p[X]),F){var Z=F(G);if(!Z)return!1;if(Z&&Z instanceof Promise)Z.then(function(Ne){return Ne}).catch(function(){});else if(Z)return ee}return ee});w=w.filter(function(G){return G}),w.length&&be(w)})}else se(g).then(function(p){if(v){var w=+v-A.length;if(w<=0)return}var G={uid:Date.now()+"upload-file",file:g,status:"",message:""};p&&(G.content=p),be(G)})},Za=function(g){var T=g.target,p=T.files;if(!(l||!p||!p.length)){var w=p.length===1?[p[0]]:[].slice.call(p);Xa(w)}},Va=function(){var g=function(){return(0,n.jsx)("input",{ref:a,type:"file",accept:z,className:"".concat(Ce,"-input"),capture:!0,multiple:r,disabled:l,onChange:Za})},T=D()("".concat(Ce,"-button"),k()({},"".concat(Ce,"-button-disabled"),l));return(0,n.jsxs)("div",{className:T,children:[(0,n.jsx)(M,{icon:"camera"}),g()]})};return(0,n.jsxs)("div",{className:Ce,children:[Q(),Va()]})},Ha=Ga}}]);
