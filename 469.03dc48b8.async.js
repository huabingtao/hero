"use strict";(self.webpackChunkreact_single_ui=self.webpackChunkreact_single_ui||[]).push([[469],{79469:function(sa,Pe,x){x.r(Pe),x.d(Pe,{Badge:function(){return ta},Breadcrmb:function(){return Kn},BreadcrmbItem:function(){return Qn},Button:function(){return ln},Icon:function(){return U},Image:function(){return we},Input:function(){return Mn},Loading:function(){return Xe},Mask:function(){return Fe},Modal:function(){return zn},Progress:function(){return Be},Switch:function(){return kn},Toast:function(){return Tn},TreeSelect:function(){return ea},Uploader:function(){return ia}});var F=x(75271),Oe=x(82187),L=x.n(Oe),Ue=x(26068),N=x.n(Ue),Me=x(67825),Q=x.n(Me),We=x(6024),r=x(52676),Ve=["className","icon"],He=function(e){var n=e.className,t=e.icon,a=Q()(e,Ve),l=L()("single-icon",n);return(0,r.jsx)(We.G,N()({icon:t,className:l},a))},U=He,Ze=x(24168),Ge=x(36617);Ze.library.add(Ge.fas);var Ie=function(e){var n=e.children,t=e.type,a=e.textSize,l=e.className,c=e.textColor,f=c===void 0?"12px":c,o=e.color,s=o===void 0?"#000":o,u=e.size,d=u===void 0?"lg":u,C=L()("single-loading",l),b=t==="spinner"?"spinner":"circle-notch";return(0,r.jsxs)("div",{className:C,children:[(0,r.jsx)(U,{icon:b,color:s,size:d,spin:!0}),(0,r.jsx)("span",{style:{fontSize:a+"px",color:f},children:n})]})};Ie.defaultProps={textSize:"12",type:"spinner"};var Xe=Ie,Je=x(82092),S=x.n(Je),Ke=x(77762),Qe=x(31759),Ye=x.n(Qe),p="sn";function be(i){return Array.isArray(i)?i:[i]}var qe=/\.(jpeg|jpg|gif|png|svg|webp|jfif|bmp|dpg)/i;function _e(i){return qe.test(i)}function en(i){return i.isImage?!0:i.file&&i.file.type?i.file.type.indexOf("image")===0:i.url?_e(i.url):typeof i.content=="string"?i.content.indexOf("data:image")===0:!1}function ye(i){return typeof i=="function"}function nn(i){return i!==null&&Ye()(i)==="object"}function an(i){return nn(i)&&ye(i.then)&&ye(i.catch)}function Te(i,e){return be(i).some(function(n){return n.file?ye(e)?e(n.file):n.file.size>e:!1})}function tn(i,e){var n=[],t=[];return i.forEach(function(a){Te(a,e)&&t.push(a),n.push(a)}),{valid:n,invalid:t}}var rn=["btnType","block","disabled","size","children","className","href","activeClassName"],da=function(i){return i.Large="lg",i.Small="sm",i}({}),ce=function(i){return i.Primary="primary",i.Default="default",i.Danger="danger",i.Link="link",i}({}),De=function(e){var n=e.btnType,t=n===void 0?ce.Default:n,a=e.block,l=a===void 0?!1:a,c=e.disabled,f=c===void 0?!1:c,o=e.size,s=e.children,u=e.className,d=e.href,C=e.activeClassName,b=Q()(e,rn),h=p+"-btn",v=L()("".concat(h),u,S()(S()(S()(S()({},"".concat(h,"-").concat(t),t),"".concat(h,"-").concat(o),o),"".concat(h,"-block"),l),"disabled",t===ce.Link&&f));return t===ce.Link?(0,r.jsx)("a",N()(N()({className:v,href:d},b),{},{children:s})):(0,r.jsx)(Ke.Z,{activeClassName:"".concat(h,"-active"),children:(0,r.jsx)("button",N()(N()({className:v},b),{},{disabled:f,children:s}))})},ln=De,on=De,cn=x(25298),sn=x.n(cn),dn=x(17069),un=x.n(dn),vn=x(62657),se=x.n(vn),fn=x(21742),hn=x.n(fn),mn=x(83136),gn=x.n(mn),de=x(30967),Cn=!!de.createPortal,xn=document.createElement("div");document.body.appendChild(xn);var bn=function(i){hn()(n,i);var e=gn()(n);function n(t){var a;return sn()(this,n),a=e.call(this,t),S()(se()(a),"container",void 0),S()(se()(a),"maskDom",function(){return(0,r.jsx)("div",{className:"".concat(p,"-mask"),onClick:a.props.onClick,children:a.props.children})}),S()(se()(a),"getContainer",function(){if(!a.container){var l=document.createElement("div"),c="".concat(p,"-container-").concat(new Date().getTime());l.setAttribute("id",c),document.body.appendChild(l),a.container=l}return a.container}),S()(se()(a),"preventDefault",function(l){l.preventDefault()}),a}return un()(n,[{key:"render",value:function(){var a=this.props.visible;return Cn&&a?(document.body.addEventListener("touchmove",this.preventDefault,{passive:!1}),document.body.addEventListener("scroll",this.preventDefault,{passive:!1}),de.createPortal(this.maskDom(),this.getContainer())):(document.body.removeEventListener("touchmove",this.preventDefault,!1),document.body.removeEventListener("scroll",this.preventDefault,!1),null)}}]),n}(F.Component),Fe=bn,yn=x(48305),X=x.n(yn),jn=x(6166),Sn=function(e){var n=(0,F.useState)(!0),t=X()(n,2),a=t[0],l=t[1],c=(0,F.useState)(!1),f=X()(c,2),o=f[0],s=f[1],u=e.alt,d=e.width,C=d===void 0?"90px":d,b=e.height,h=b===void 0?"90px":b,v=e.src,g=e.fit,D=g===void 0?"fill":g,A=e.radius,R=e.round,B=R===void 0?!1:R,y=e.onLoad,w=e.onError,P=e.showLoading,O=P===void 0?!1:P,$=e.showError,z=e.lazyLoad;(0,F.useEffect)(function(){v||s(!0)},[]);var W=L()("".concat(p,"-image-wrap"),S()({},"".concat(p,"-image-wrap-round"),B)),H={width:C,height:h,borderRadius:B?"50%":A},Z=function(){if(a&&O)return(0,r.jsx)("div",{className:"".concat(p,"-image-loading"),children:(0,r.jsx)(U,{icon:"image",color:"#969799",size:"3x"})});if(o&&$)return(0,r.jsx)("div",{className:"".concat(p,"-image-error"),children:(0,r.jsx)(U,{icon:"sad-tear",color:"#969799",size:"3x"})})},k=function(){if(!(!v||o)){var K=function(oe){l(!1),y&&y(oe)},Ce=function(oe){s(!0),w&&w(oe)},le={alt:u,src:v,style:{objectFit:D}};return z?(0,r.jsx)(jn.ZP,{scroll:!0,offset:-20,children:(0,r.jsx)("img",N()({className:"".concat(p,"-image-img"),onError:Ce,onLoad:K},le))}):(0,r.jsx)("img",N()({className:"".concat(p,"-image-img"),onError:Ce,onLoad:K},le))}};return(0,r.jsxs)("div",{style:H,className:W,children:[Z(),k()]})},we=Sn,Nn=x(61398).Z,J=null,ue,pn=document.createElement("div");document.body.appendChild(pn);var q=p+"-toast";function Pn(i,e){var n=L()(S()(S()({},"".concat(q,"-mask"),i),"".concat(q,"-nomask"),!i));Nn.newInstance({prefixCls:"".concat(q),style:{},transitionName:"".concat(q,"-fade"),className:n},function(t){return e&&e(t)})}var ee=function(e){var n=e.content,t=e.mask,a=e.duration,l=e.onClose,c=e.type,f={info:"",success:"check-circle",fail:"times-circle",loading:"spinner"},o=f[c];ue=!1,Pn(t,function(s){if(s){if(J&&(J.destroy(),J=null),ue){s.destroy(),ue=!1;return}J=s,s.notice({content:(0,r.jsxs)("div",{className:"".concat(q,"-content"),role:"alert","aria-live":"assertive",children:[!!o&&(0,r.jsx)("div",{className:"".concat(q,"-icon-wrap"),children:(0,r.jsx)(U,{icon:o,size:"2x",spin:c==="loading"})}),(0,r.jsx)("div",{children:n})]}),duration:a,onClose:function(){l&&l(),s.destroy(),s=null,J=null}})}})},In={show:function(e,n,t,a,l){var c={content:e,type:n,mask:t,duration:a,onClose:l};return ee(c)},info:function(e,n,t,a){var l={content:e,type:"info",mask:n,duration:t,onClose:a};return ee(l)},success:function(e,n,t,a){var l={content:e,type:"success",mask:n,duration:t,onClose:a};return ee(l)},fail:function(e,n,t,a){var l={content:e,type:"fail",mask:n,duration:t,onClose:a};return ee(l)},loading:function(e,n,t,a){var l={content:e,type:"loading",mask:n,duration:t,onClose:a};return ee(l)},hidden:function(){J?(J.destroy(),J=null):ue=!0}},Tn=In,Dn=["visible"],ve=p+"-modal",Fn=function(e){var n=e.visible,t=n===void 0?!1:n,a=Q()(e,Dn),l=function(o,s){var u={};if(o.style&&(u=o.style,typeof u=="string")){var d={cancel:{},default:{},destructive:{color:"red"}};u=d[u]||{}}var C=function(v){v.preventDefault(),o.onPress&&o.onPress()},b=N()({flex:1,padding:0,fontSize:"18px",height:"50px",lineHeight:"50px",textOverflow:"ellipsis",whiteSpace:"nowrap"},u);return(0,r.jsx)(on,{style:N()({},b),onClick:C,btnType:ce.Link,children:o.text||"Button"},s)},c=function(o){var s=o.title,u=o.message,d=o.footer;return(0,r.jsxs)("div",{className:"".concat(ve),children:[(0,r.jsx)("div",{className:"".concat(ve,"-header"),children:s}),(0,r.jsx)("div",{className:"".concat(ve,"-body"),children:u}),(0,r.jsx)("div",{className:"".concat(ve,"-footer"),children:d==null?void 0:d.map(function(C,b){return l(C,b)})})]})};return(0,r.jsx)(Fe,N()(N()({visible:t},a),{},{children:(0,r.jsx)(c,N()({},a))}))},je=Fn,ze=x(32699),Se=x.n(ze);function wn(i){var e=i.title,n=i.message,t=i.footer,a=document.createElement("div");document.body.appendChild(a);var l=!1;function c(){de.unmountComponentAtNode(a),a&&a.parentNode&&a.parentNode.removeChild(a)}var f="";if(t){var o=Se().cloneDeep(t);f=o.map(function(s){var u=s.onPress||function(){};return s.onPress=function(){if(!l){var d=u();d&&d.then?d.then(function(){l=!0,c()}).catch(function(){}):(l=!0,c())}},s})}de.render((0,r.jsx)(je,{visible:!0,title:e,message:n,footer:f}),a)}je.alert=wn;var zn=je,Bn=["value","disabled","size","activeColor","inactiveColor","onClick"],ne=p+"-switch",Ln=function(e){var n=e.value,t=n===void 0?!1:n,a=e.disabled,l=a===void 0?!1:a,c=e.size,f=e.activeColor,o=e.inactiveColor,s=e.onClick,u=Q()(e,Bn),d=t,C=function(){l||(d=!t,e.onClick&&e.onClick(d))},b=L()("".concat(ne),S()(S()(S()({},"".concat(ne,"-disabled"),l),"".concat(ne,"-active"),d),"".concat(ne,"-").concat(c),c)),h={};return(f||o)&&(h={backgroundColor:d?f:o}),(0,r.jsx)("div",N()(N()({className:b,onClick:C,style:h},u),{},{children:(0,r.jsx)("div",{className:"".concat(ne,"-round")})}))},kn=Ln,$n=["onBlur","onFocus","onChange"],En=function(e){var n=e.onBlur,t=e.onFocus,a=e.onChange,l=Q()(e,$n),c=(0,F.useRef)(null),f=function(d){var C=d.target.value;n&&n(C)},o=function(d){var C=d.target.value;t&&t(C)},s=function(d){var C=d.target.value.trim();a&&a(C)};return(0,r.jsx)("input",N()({ref:c,onChange:s,onBlur:f,onFocus:o},l))},Rn=En,An=["type","label","required","disabled","readonly","clearble","defaultValue","onChange","onFocus","onBlur","onClear","value"],On=function(e){var n="";switch(e){case"phone":n="tel";break;case"password":n="password";break;case"number":n="number";break;default:n=e}return n},fe=p+"-input-wrap",Un=function(e){var n=e.type,t=n===void 0?"text":n,a=e.label,l=e.required,c=l===void 0?!1:l,f=e.disabled,o=f===void 0?!1:f,s=e.readonly,u=s===void 0?!1:s,d=e.clearble,C=d===void 0?!1:d,b=e.defaultValue,h=e.onChange,v=e.onFocus,g=e.onBlur,D=e.onClear,A=e.value,R=Q()(e,An),B=L()("".concat(fe),S()(S()(S()({},"".concat(fe,"-disabled"),o),"".concat(fe,"-required"),c),"".concat(fe,"-readonly"),u)),y=(0,F.useState)(A||""),w=X()(y,2),P=w[0],O=w[1];(0,F.useEffect)(function(){O(A||"")},[e.value]);var $=function(E){if(t==="phone"){var K;E=(K=E)===null||K===void 0?void 0:K.replace(/\D/g,"")}O(E||""),h&&h(E)},z=function(E){v&&v(E)},W=function(E){g&&g(E)},H=function(){O(""),D&&D()},Z=On(t);return(0,r.jsxs)("div",{className:B,children:[(0,r.jsx)("div",{className:"".concat(p,"-input-label"),children:a}),(0,r.jsx)(Rn,N()({className:"".concat(p,"-input-self"),onChange:$,onFocus:z,onBlur:W,readOnly:u,disabled:o,type:Z,value:P},R)),!o&&!u&&C&&P&&(0,r.jsx)("div",{className:"".concat(p,"-input-clear"),children:(0,r.jsx)(U,{icon:"times-circle",onClick:H})})]})},Mn=Un,Wn=x(15558),Ne=x.n(Wn),Vn=x(48868),ae=p+"-progress",Hn=function(e){var n=e.children,t=e.percent,a=e.fixed,l=e.unfilled,c=e.color,f=e.trackColor,o=e.showPivot,s=e.pivoteText,u=e.textColor,d=e.pivotColor,C=e.inactive,b=e.wrapStyle,h=e.percentStyle,v,g,D,A=L()(ae,"".concat(ae,"-wrap"),S()({},"".concat(ae,"-wrap-fixed"),a)),R=l?{background:"transparent"}:{background:f};b=N()(N()({},R),b);var B=L()("".concat(ae,"-bar"));h=N()({width:"".concat(t,"%"),background:C?"rgb(202, 202, 202)":c},h);var y=function(){v&&console.log("barRef.style.width:",v.style.width);var k=s||"".concat(t,"%");if(!o)return"";var E={color:u,background:C?"rgb(202, 202, 202)":d,left:"".concat(W,"px")};return(0,r.jsx)("span",{ref:O,style:E,className:"".concat(ae,"-bar-pivot"),children:k})},w=function(k){g=k},P=function(k){v=k},O=function(k){D=k},$=(0,F.useState)(0),z=X()($,2),W=z[0],H=z[1];return(0,F.useEffect)(function(){setTimeout(function(){v&&g&&D&&H((g.offsetWidth-D.offsetWidth)*+t/100||v.offsetWidth)},10)},[]),(0,r.jsx)("div",{ref:w,className:A,style:b,role:"progressbar","aria-valuenow":t,"aria-valuemin":0,"aria-valuemax":100,children:(0,r.jsx)("div",{className:B,style:h,ref:P,children:y()})})},Be=Hn,te="".concat(p,"-uploader-item"),Zn=function(e){var n=e.item,t=e.imageFit,a=e.previewSize,l=e.deletable,c=e.index,f=e.beforeDelete,o=e.name,s=e.onDelete,u=function(){if(f){var g=f.apply(null,[n,{name:o,index:c}]);an(g)?g.then(function(D){D&&s&&s()}):g&&s&&s()}else s&&s()},d=function(){if(en(n))return(0,r.jsx)(we,{fit:t,width:a||"90px",height:a||"90px",src:n.content||n.url||""})},C=function(){if(l)return(0,r.jsx)("div",{className:"".concat(te,"-delete"),onClick:u,children:(0,r.jsx)("div",{className:"".concat(te,"-delete-icon"),children:(0,r.jsx)(U,{size:"2x",icon:"times"})})})},b=function(){var g=n.status,D=n.message;if(!(!g||g==="done"))return(0,r.jsxs)("div",{className:"".concat(te,"-mask"),children:[g==="loading"&&(0,r.jsx)(U,{size:"lg",icon:"spinner",spin:!0}),g==="failed"&&(0,r.jsx)(U,{size:"lg",icon:"exclamation-circle"}),(0,r.jsx)("span",{children:D})]})},h=function(){var g=n.percent,D=n.status;if(D==="uploading")return(0,r.jsx)("div",{className:"".concat(te,"-progress-wrap"),children:(0,r.jsx)(Be,{percent:g||0,wrapStyle:{height:"8px"}})})};return(0,r.jsxs)("div",{className:te,children:[d(),C(),b(),h()]})},Gn=Zn,Le=(0,F.createContext)({length:0}),Xn=p+"-breadcrmb",Jn=function(e){var n=e.separator,t=e.children,a=e.inactiveColor,l=e.activeColor,c=e.onSelect,f=function(C){c&&c(C)},o={length:(t==null?void 0:t.length)||0,separator:"/",inactiveColor:a,activeColor:l,onSelect:f},s=L()(Xn),u=function(){return F.Children.map(t,function(C,b){var h=C;if(h.type.displayName==="TabBarItem")return F.cloneElement(h,{index:b});console.error("Warning: Breadcrmb has a child which is not BreadcrmbItem")})};return(0,r.jsx)("ul",{className:s,children:(0,r.jsx)(Le.Provider,{value:o,children:u()})})},Kn=Jn,he=p+"-breadcrmb-item",ke=function(e){var n=e.index,t=e.disabled,a=e.children,l=L()(he,S()({},"".concat(he,"-disabled"),t)),c=(0,F.useContext)(Le),f=function(){t||c.onSelect&&c.onSelect(n)},o={color:c.length-1===n?c.activeColor:c.inactiveColor};return(0,r.jsxs)("li",{className:l,onClick:f,style:o,children:[(0,r.jsx)("span",{className:"".concat(he,"-link"),children:a}),(0,r.jsx)("span",{className:"".concat(he,"-separator"),children:c.length-1!==n&&c.separator})]})};ke.displayName="TabBarItem";var Qn=ke,re=p+"-tree-select",$e=function(){var e=(0,F.useContext)(pe),n=e.data,t=e.index,a=e.onChangeTree,l=e.activeColor,c=(0,F.useState)(t||0),f=X()(c,2),o=f[0],s=f[1],u=function(v,g){v.disabled||(s(g),a&&a(v,g))},d=function(v,g){return L()("".concat(re,"-sidebar-item"),S()(S()({},"".concat(re,"-sidebar-item-active"),o===g),"".concat(re,"-sidebar-item-disabled"),v.disabled))},C=function(v){return{backgroundColor:l&&v===o?l:""}},b=function(){return!n||!n.length?(console.warn("The data is not a Array or the length of the data is 0"),""):n.map(function(v,g){return(0,r.jsxs)("li",{onClick:u.bind(void 0,v,g),className:d(v,g),children:[(0,r.jsx)("span",{style:C(g),className:"".concat(re,"-sidebar-item-line")}),v.label]},g)})};return(0,r.jsx)("ul",{className:"".concat(re,"-sidebar"),children:b()})};$e.defaultProps={};var Yn=$e,me=p+"-tree-select-content",Ee=function(e){var n=(0,F.useContext)(pe),t=n.data,a=n.index,l=a===void 0?0:a,c=n.activeId,f=n.multiple,o=n.onChangeTreeItem,s=n.activeColor,u=n.inactiveColor,d=[];t&&t[l]&&t[l].children&&(d=t[l].children);var C=(0,F.useState)(c),b=X()(C,2),h=b[0],v=b[1],g=function(y,w){if(!y.disabled){var P=y.value;if(h!=null&&h.includes(P)){var O=h.indexOf(P),$=Se().cloneDeep(h);$.splice(O,1),v($),o&&o(y,$)}else if(f){var z=Se().cloneDeep(h);z==null||z.push(P),v(z),o&&o(y,z)}else v([P]),o&&o(y,P)}},D=function(y,w){var P=L()("".concat(me,"-item"),S()(S()({},"".concat(me,"-item-active"),h.includes(y.value)),"".concat(me,"-item-disabled"),y.disabled));return P},A=function(y){return s||u?{color:h.includes(y)?s:u||""}:{}},R=function(){return d.map(function(y,w){var P=function($){return h.includes($.value)?(0,r.jsx)(U,{icon:"check"}):""};return(0,r.jsxs)("li",{className:D(y,w),style:A(y.value),onClick:g.bind(void 0,y,w),children:[(0,r.jsx)("span",{children:y.label}),(0,r.jsx)("span",{children:P(y)})]},w)})};return(0,r.jsx)("ul",{className:me,children:R()})};Ee.displayName="TreeSelectItem";var qn=Ee,pe=(0,F.createContext)({multiple:!1,data:[]}),_n=p+"-tree-select",Re=function(e){var n=e.data,t=e.onChangeTree,a=e.onChangeTreeItem,l=e.inactiveColor,c=e.activeColor,f=e.index,o=f===void 0?0:f,s=e.activeId,u=s===void 0?[]:s,d=e.multiple,C=e.height,b=C===void 0?"300px":C,h=(0,F.useState)(o||0),v=X()(h,2),g=v[0],D=v[1],A=function(w,P){a&&a(w,P)},R=function(w,P){D(P),t&&t(w,P)},B={inactiveColor:l,activeColor:c,data:n,multiple:d,onChangeTreeItem:A,onChangeTree:R,index:g,activeId:Array.isArray(u)?u:[u]};return(0,r.jsx)("div",{className:_n,style:{height:b},children:(0,r.jsxs)(pe.Provider,{value:B,children:[(0,r.jsx)(Yn,{}),(0,r.jsx)(qn,{})]})})};Re.defaultProps={};var ea=Re,na=["children","color","dot","max","content","size","fixed","style"],ie=p+"-badge",aa=function(e){var n=e.children,t=e.color,a=e.dot,l=a===void 0?!1:a,c=e.max,f=c===void 0?99:c,o=e.content,s=e.size,u=e.fixed,d=e.style,C=Q()(e,na),b=N()({backgroundColor:t},d);o&&(o=Number(o)?Number(o):o);var h=function(){return l?"":typeof o=="number"&&o>f?"".concat(f,"+"):o},v=L()("".concat(ie,"-wrap")),g=L()(ie,S()(S()(S()({},"".concat(ie,"-dot-large"),l&&s==="lg"),"".concat(ie,"-fixed"),typeof o=="number"||u||l),"".concat(ie,"-dot"),l));return(0,r.jsxs)("div",{className:v,children:[n,(o||l)&&(0,r.jsx)("sup",N()(N()({className:g,style:N()({},b)},C),{},{children:h()}))]})},ta=aa,ge="".concat(p,"-uploader"),ra=function(e){var n=(0,F.useRef)(null),t=e.multiple,a=t===void 0?!0:t,l=e.disabled,c=l===void 0?!1:l,f=e.customHeaer,o=e.previewSize,s=e.imageFit,u=s===void 0?"fill":s,d=e.maxCount,C=e.deletable,b=C===void 0?!0:C,h=e.name,v=e.customFileName,g=e.maxSize,D=e.accept,A=D===void 0?"image/*":D,R=e.action,B=e.onOversize,y=e.onChange,w=e.beforeUpload,P=e.onRemove,O=(0,F.useState)(e.fileList||[]),$=X()(O,2),z=$[0],W=$[1],H=function(m,I){W(function(j){return j.map(function(T){return T.uid===m.uid?N()(N()({},T),I):T})})},Z=function(m){m.forEach(function(I){k(I,m)})},k=function(m,I){var j,T={uid:Date.now()+"upload-file",file:m.file,status:"",message:"",content:m.content};if(W(function(G){return[].concat(Ne()(G),[T])}),!!m.file){var V=new FormData;V.append(v||((j=m.file)===null||j===void 0?void 0:j.name),m.file),Vn.Z.post(R,V,{headers:N()({"Content-Type":"multipart/form-data"},f),onUploadProgress:function(_){var Y=Math.round(_.loaded*100/_.total)||0;H(T,{percent:Y,status:"uploading"})}}).then(function(G){y&&y(m.file,I,G),H(T,{status:"done"})}).catch(function(G){y&&y(m.file,I,G),H(T,{status:"failed",message:"\u4E0A\u4F20\u5931\u8D25"})})}},E=function(m,I){return(0,r.jsx)(Gn,{item:m,imageFit:u,index:I,previewSize:o,beforeDelete:m.beforeDelete,deletable:b,name:h,onDelete:function(){K(m,I)}},I)},K=function(m,I){var j=z.slice(0),T=j.splice(I,1);W(j),P&&P(T[0])},Ce=function(){return z.map(E)},le=function(m){return new Promise(function(I){var j=new FileReader;j.onload=function(T){I(T.target.result)},j.readAsDataURL(m)})},xe=function(m){if(oe(),g&&Te(m,g))if((0,ze.isArray)(m)){var I=tn(m,g),j=I.valid,T=I.invalid;m=j,B&&B(T)}else{B&&B(be(m));return}if(m=be(m),R){if(!m.length)return;Z(m)}else W([].concat(Ne()(z),Ne()(m)))},oe=function(){n!=null&&n.current&&(n.current.value="")},la=function(m){if(Array.isArray(m)){if(d){var I=+d-z.length;m.length>I&&(m=m.slice(0,I))}Promise.all(m.map(function(j){return le(j)})).then(function(j){var T=m.map(function(V,G){var _={uid:Date.now()+"upload-file",file:V,status:"",message:""};if(j[G]&&(_.content=j[G]),w){var Y=w(V);if(!Y)return!1;if(Y&&Y instanceof Promise)Y.then(function(Ae){return Ae}).catch(function(Ae){});else if(Y)return _}return _});T=T.filter(function(V){return V}),T.length&&xe(T)})}else le(m).then(function(j){if(d){var T=+d-z.length;if(T<=0)return}var V={uid:Date.now()+"upload-file",file:m,status:"",message:""};j&&(V.content=j),xe(V)})},oa=function(m){var I=m.target,j=I.files;if(!(c||!j||!j.length)){var T=j.length===1?[j[0]]:[].slice.call(j);la(T)}},ca=function(){var m=function(){return(0,r.jsx)("input",{ref:n,type:"file",accept:A,className:"".concat(ge,"-input"),capture:!0,multiple:a,disabled:c,onChange:oa})},I=L()("".concat(ge,"-button"),S()({},"".concat(ge,"-button-disabled"),c));return(0,r.jsxs)("div",{className:I,children:[(0,r.jsx)(U,{icon:"camera"}),m()]})};return(0,r.jsxs)("div",{className:ge,children:[Ce(),ca()]})},ia=ra}}]);
